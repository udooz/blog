
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>AjaxView for Dynamic Web 2.0 App Performance Profiling - Udooz!</title>
    <meta name="author" content="M Sheik Uduman Ali">
    
	<meta name="description" content="If you are new to AjaxView, read my previous post Ajax View &#8211; Rewrite Web App Code at Production Stage.  In this post, I am going to identify &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Udooz!" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/blog/favicon.ico" rel="shortcut icon">
    <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/blog/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        M Sheik Uduman Ali
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  
  
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/blog/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/blog/archives/index.html">Archives</a></li>
    <li><a href="/blog/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/blog/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        <article class="post">
	<h2 class="title">AjaxView for Dynamic Web 2.0 App Performance Profiling</h2>
	<div class="entry-content"><div class="mceTemp">
  If you are new to AjaxView, read my previous post <a href="http://udooz.net/blog/2009/03/ms-ajax-view/" target="_blank">Ajax View &#8211; Rewrite Web App Code at Production Stage</a>.  In this post, I am going to identify performance bottleneck of this blog site without touching the soul of my blog using AjaxView.  If you do not have AjaxView, download it from <a href="http://tinyurl.com/ajax-view-download">http://tinyurl.com/ajax-view-download</a>.
</div>


<p><strong>Start Walking</strong></p>

<ol>
<li>Configuring your browser.  AjaxView is running as a proxy (localhost) at port number 8888 so that you should configure your browser to listen from this proxy.  Since, this is a proxy tool, you can use any browser.  I am using Firefox, because IE is running for this blog post writing.</li>
<li>Execute AjaxView.  AjaxView is running in a console window.</li>
<li>Enter the URL.  Type <a href="http://www.udooz.net/blog">http://www.udooz.net/blog</a>.</li>
</ol>


<p><strong>Injected Instrumentation</strong></p>

<p>You can do whatever you want in the site to profile the event you want to capture.  You can see the instrumented code based on the performance policy injected into the blog site code.  AjaxView injects necessary code for performing profiling, logging an send it to AjaxView at the head of the page.</p>

<p><head profile=&#8221;http://gmpg.org/xfn/11&#8243;><br/>
  <script><br/>
      var PageLoadStart = new Date().getTime();<br/>
      // other var declarations<br/>
      var emk_OkToSendNextLog = true;<br/>
      var verbose = false;</p>

<p>      function emk_CheckLogs() {<br/>
          if( emk_LogRecords.length >= emk_MAX_LOG_RECORDS_BEFORE_FLUSH ) {<br/>
              emk_FlushLogs();<br/>
          }<br/>
      }<br/>
      function emk_FlushLogs() {<br/>
          // implementation<br/>
      }<br/>
      // other functions<br/>
</script><br/>
</head><br/>
&lt;!&#8211; actual page code &#8211;></p>

<p>Whereever required, it injects the profile code like the following</p>

<p>(tmpCache_emk_LogRecords.push(&#8216;\r\nLM:PerformancePolicy:PerformancePolicy:SCRIPTENTER,&#8217;),<br/>
tmpCache_emk_LogRecords.push(new Date().getTime()),</p>

<p>During the loading and other execution of your web application, the above profile codes send the log details back to AjaxView using XMLHttpRequest.  See the following figure.</p>

<div id="attachment_71" style="width: 310px" class="wp-caption alignnone">
  <img class="size-medium wp-image-71" title="axvw_console1" src="http://udooz.github.io//blog/images/2009/03/axvw_console1-300x133.gif" alt="AjaxView Console" width="300" height="133" /><p class="wp-caption-text">
    AjaxView Console
  </p>
</div>


<p><strong>Getting the Results</strong></p>

<p>Enough logging, now let us see the analyzed results of the logs by opening new tab in FireFox and type <a href="http://fakeurl.com/?&AJAXVIEWREQUEST=GET=main.html" target="_blank"><a href="http://fakeurl.com/?&amp;AJAXVIEWREQUEST=GET=main.html">http://fakeurl.com/?&amp;AJAXVIEWREQUEST=GET=main.html</a></a>.  This is a fake URL for getting analyzed reports from AjaxView proxy.  A two column page will appear.  The left side contains the following links:</p>

<ul>
<li>JS Performance Statistics</li>
<li>Proxy Statistics</li>
<li>LM Policies</li>
<li>Clear Statistics</li>
</ul>


<p>Our focus in on JS Performance Statistics.</p>

<p><strong>JS Performance Statistics</strong></p>

<p>When clicking on <em>JS Performance Statistics</em> link, JavaScript related performance statistics will appear on the right side.  The result is in a three column tabular, with following items:</p>

<ul>
<li>Site &#8211; Actual pages where JavaScript code find</li>
<li>Num Functions &#8211; The number of JavaScript functions in the page.</li>
<li>Worst Performance (ms) &#8211; Performance of the slowest function in the page.</li>
</ul>


<p>In my blog web site, <a href="http://fakeurl.com//PerformancePolicy/PerformancePolicy/1646706643?&amp;AJAXVIEWREQUEST=LMINFO%C2%A0shows">http://fakeurl.com//PerformancePolicy/PerformancePolicy/1646706643?&amp;AJAXVIEWREQUEST=LMINFO%C2%A0shows</a> slowest performance of 164 milliseconds.  By clicking the file displays another tabular results which contains number of JavaScript functions in the selected page.  Meantime (ms) for the function at <a href="http://udooz.net/blog/wp-includes/js/jquery/jquery.js?ver=1.2.6%C2%A0actually">http://udooz.net/blog/wp-includes/js/jquery/jquery.js?ver=1.2.6%C2%A0actually</a> shows lowest performance function with line and column details.  Here, it is 164 millisecond.  By clicking this shows the actual code.</p>

<p><strong>Comparison with IE Development ToolBar Profiler</strong></p>

<p>Let us verify the results with IE Development ToolBar&#8217;s JavaScript profiler.  The profiler shows the same set of functions with correct count details also.  But it varies in the time.  The highest maximum time was 109.38 taken by three functions.</p>
</div>

<div class="meta">
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2014

    M Sheik Uduman Ali
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/blog/javascripts/fabric.js"></script>
<script src="/blog/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
