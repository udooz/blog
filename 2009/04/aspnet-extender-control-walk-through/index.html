
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ASP.NET Extender Control: Walkthrough - Udooz!</title>
  <meta name="author" content="M Sheik Uduman Ali">

  
  <meta name="description" content="Sample VS2008 Project is available at http://snipurl.com/asp_net_extendercontrol_sample.zip This is the continuation  of ASP.NET Extender Control: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://udooz.github.io//blog/2009/04/aspnet-extender-control-walk-through/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Udooz!" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:udooz.github.io//blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/blog/">
        <span class="blue_light">
            Udooz!
        </span>
       
           <span class="blue_dark">
             technologies.each { |tech| write_post(tech.facets) if tech.facets
           </span>
       
    </a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
  <li><a href="/blog/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">ASP.NET Extender Control: Walkthrough</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-04-24T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Sample VS2008 Project is available at <a href="http://snipurl.com/asp_net_extendercontrol_sample.zip" target="_blank"><a href="http://snipurl.com/asp_net_extendercontrol_sample.zip">http://snipurl.com/asp_net_extendercontrol_sample.zip</a></a></p>

<p>This is the continuation  of <a href="http://udooz.net/blog/2009/04/aspnet-extender-control-decorating-web-controls/" target="_blank">ASP.NET Extender Control: Decorating &amp; Componentizing Web Controls with Client Behavior</a>.  In this walkthrough, the following things are explained:</p>

<ul>
<li>Decorating or extending web control behavior.  A mouse hover effect which is implemented in JavaScript would be applied to controls of  type Button.</li>
<li>Packaging client side implementation along with the extender control assembly.</li>
</ul>


<blockquote><p>The client side implementation should consume  ASP.NET AJAX JavaScript API, in order to get the benefit of this.</p></blockquote>

<p>As explained in previous section,  this walkthrough explains how to add mouse over and mouse out effect to controls of type Button.</p>

<p>Steps</p>

<ol>
<li>Implement decorator class based on ExtenderControl</li>
<li>Implement client side behavior</li>
<li>Make client side script as ASP.NET AJAX web resource</li>
<li>Consume extender control</li>
</ol>


<h2>Decorator Class Implementation</h2>

<p>Based on your application architecture and/or decorator usage, define the decorator class either within web project or separate assembly.  HoverExtension is the decorator class which extends ExtenderControl.</p>

<p>Based on figure 3 in the <a href="http://udooz.net/blog/2009/04/aspnet-extender-control-decorating-web-controls/" target="_blank">previous post</a>, the following are the steps need to be completed:</p>

<ol>
<li>Define decorated properties in control</li>
<li>Map control and client side properties</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Web.UI</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Web.UI.WebControls</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">namespace</span> <span class="nn">Udooz</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="na">    [TargetControlType(typeof(Button))]</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">class</span> <span class="nc">HoverExtension</span> <span class="p">:</span> <span class="n">ExtenderControl</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">private</span> <span class="kt">string</span> <span class="n">_hoverCssClass</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">public</span> <span class="kt">string</span> <span class="n">HoverCssClass</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_hoverCssClass</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>            <span class="k">set</span> <span class="p">{</span> <span class="n">_hoverCssClass</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">private</span> <span class="kt">string</span> <span class="n">_normalCssClass</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">public</span> <span class="kt">string</span> <span class="n">NormalCssClass</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_normalCssClass</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>            <span class="k">set</span> <span class="p">{</span> <span class="n">_normalCssClass</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">protected</span> <span class="k">override</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">ScriptDescriptor</span><span class="p">&gt;</span> <span class="n">GetScriptDescriptors</span><span class="p">(</span><span class="n">Control</span> <span class="n">targetControl</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">ScriptBehaviorDescriptor</span> <span class="n">descriptor</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ScriptBehaviorDescriptor</span><span class="p">(</span><span class="s">&quot;Udooz.HoverExtension&quot;</span><span class="p">,</span> <span class="n">targetControl</span><span class="p">.</span><span class="n">ClientID</span><span class="p">);</span>
</span><span class='line'>            <span class="n">descriptor</span><span class="p">.</span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;hoverCssClass&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">HoverCssClass</span><span class="p">);</span>
</span><span class='line'>            <span class="n">descriptor</span><span class="p">.</span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;normalCssClass&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">NormalCssClass</span><span class="p">);</span>           
</span><span class='line'>            <span class="k">return</span> <span class="k">new</span> <span class="n">ScriptBehaviorDescriptor</span><span class="p">[]</span> <span class="p">{</span> <span class="n">descriptor</span> <span class="p">};</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">protected</span> <span class="k">override</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">ScriptReference</span><span class="p">&gt;</span> <span class="n">GetScriptReferences</span><span class="p">()</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">ScriptReference</span> <span class="n">reference</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ScriptReference</span><span class="p">();</span>
</span><span class='line'>            <span class="n">reference</span><span class="p">.</span><span class="n">Assembly</span> <span class="p">=</span> <span class="s">&quot;HoverExtension&quot;</span><span class="p">;</span>
</span><span class='line'>            <span class="n">reference</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&quot;Udooz.HoverExtension.js&quot;</span><span class="p">;</span>
</span><span class='line'>            <span class="k">return</span> <span class="k">new</span> <span class="n">ScriptReference</span><span class="p">[]</span> <span class="p">{</span> <span class="n">reference</span> <span class="p">};</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Define decorated properties in control</h3>

<p>The <strong>TargetControlTypeAttribute</strong> (line 10 ) enables to specify to which web controls this decorator can be applied.  HoverExtension can only be applied to <strong>Button</strong> type.  The next step is to define decorated properties for the server side so that it can be used in ASPX page. NormalCssClass and HoverCssClass are two properties defined to set style name for normal and hover state (line 15 &#8211; 26).</p>

<h3>Map control and client side properties</h3>

<p>As discussed in the previous post, the decorated class implements IExtenderControl&#8217;s methods GetScriptDescriptors (line 28-34) and GetScriptReferences (line 36-42).  The <strong>ScriptBehaviorDescriptor</strong> does two things here:</p>

<ul>
<li>Based on the target server control given as an argument in the constructor, it specifies the client class to target control&#8217;s client ID (line 30).</li>
<li>Map the server side properties to client side properties (line 31, 32).</li>
</ul>


<p>The <strong>ScriptReference</strong> is used to specify on which assembly the client behavior script file will be included (line 39) and the script file name (line 40).</p>

<h2>Client Side Behavior Implementation</h2>

<p>Based on figure 3 in the previous post, the following are the steps need to be completed those are implemented in HoverExtension.js:</p>

<ol>
<li>Define decorated properties for client side</li>
<li>Implement client side behavior</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err"> </span>
</span><span class='line'>
</span><span class='line'><span class="nx">Type</span><span class="p">.</span><span class="nx">registerNamespace</span><span class="p">(</span><span class="s1">&#39;Udooz&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="err">   </span> <span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">initializeBase</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="p">[</span><span class="nx">element</span><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="k">this</span><span class="p">.</span><span class="nx">_hoverCssClass</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="err">   </span> <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">callBaseMethod</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s1">&#39;initialize&#39;</span><span class="p">);</span><span class="err">             </span>
</span><span class='line'><span class="err">       </span> <span class="nx">$addHandlers</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">(),</span>
</span><span class='line'><span class="err">                    </span> <span class="p">{</span> <span class="s1">&#39;mouseover&#39;</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_onMouseOver</span><span class="p">,</span>
</span><span class='line'><span class="err">                        </span> <span class="s1">&#39;mouseout&#39;</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_onMouseOut</span>
</span><span class='line'><span class="err">                    </span> <span class="p">},</span>
</span><span class='line'><span class="err">                    </span> <span class="k">this</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="err">       </span> <span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">().</span><span class="nx">className</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">dispose</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="nx">$clearHandlers</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">());</span>
</span><span class='line'>
</span><span class='line'><span class="err">       </span> <span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">callBaseMethod</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s1">&#39;dispose&#39;</span><span class="p">);</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">_onMouseOver</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">().</span><span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">().</span><span class="nx">className</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_hoverCssClass</span><span class="p">;</span>
</span><span class='line'><span class="err">       </span> <span class="p">}</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">_onMouseOut</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span><span class="err">       </span>
</span><span class='line'><span class="err">       </span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">().</span><span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">get_element</span><span class="p">().</span><span class="nx">className</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span><span class="p">;</span>
</span><span class='line'><span class="err">       </span> <span class="p">}</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">get_hoverCssClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_hoverCssClass</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">set_hoverCssClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_hoverCssClass</span> <span class="o">!==</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">_hoverCssClass</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">raisePropertyChanged</span><span class="p">(</span><span class="s1">&#39;hoverCssClass&#39;</span><span class="p">);</span>
</span><span class='line'><span class="err">       </span> <span class="p">}</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">get_normalCssClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="p">},</span>
</span><span class='line'>
</span><span class='line'><span class="err">   </span> <span class="nx">set_normalCssClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">       </span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span> <span class="o">!==</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">_normalCssClass</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
</span><span class='line'><span class="err">           </span> <span class="k">this</span><span class="p">.</span><span class="nx">raisePropertyChanged</span><span class="p">(</span><span class="s1">&#39;normalCssClass&#39;</span><span class="p">);</span>
</span><span class='line'><span class="err">       </span> <span class="p">}</span>
</span><span class='line'><span class="err">   </span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Optional descriptor for JSON serialization.</span>
</span><span class='line'><span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">descriptor</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'><span class="err">   </span> <span class="nx">properties</span><span class="o">:</span> <span class="p">[{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hoverCssClass&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span> <span class="p">},</span>
</span><span class='line'><span class="err">                   </span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;normalCssClass&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">}]</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Register the class as a type that inherits from Sys.UI.Control.</span>
</span><span class='line'><span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">.</span><span class="nx">registerClass</span><span class="p">(</span><span class="s1">&#39;Udooz.HoverExtension&#39;</span><span class="p">,</span> <span class="nx">Sys</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">Behavior</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="p">(</span><span class="nx">Sys</span><span class="p">)</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="nx">Sys</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">notifyScriptLoaded</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>A client side class Udooz.HoverExtension is defined.  The constructor initialize the given &#8220;element&#8221;.  The element reference is the target web control which will be given by ASP.NET at run time using ASP.NET AJAX <em>$create()</em> method.</p>

<h3>Define decorated properties for client side</h3>

<p>There are two properties normalCssClass (line 56-65) and hoverCssClass (line 45-54) defined.</p>

<h3>Implement client side behavior</h3>

<p>The mouse over and mouse out events are registered (line 17-21) and those handlers are defined (line 32-42).</p>

<h2>Make Client Side Script As ASP.NET AJAX Web Resource</h2>

<p>To package the HoverExtension.js into HoverExtension.dll, this script needs to be declared as web resource so that ASP.NET AJAX identifies and consumes this as web resource and invoke this via <strong>ScriptResource.axd</strong> handler.  In the AssemblyInfo.cs file of HoverExtension.dll, the following code needs to be added.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na"> </span>
</span><span class='line'>
</span><span class='line'><span class="na">[assembly: System.Web.UI.WebResource(&quot;Udooz.HoverExtension.js&quot;, &quot;text/javascript&quot;)]</span>
</span></code></pre></td></tr></table></div></figure>


<p> </p>

<h2>Consume Extender Control</h2>

<p>Build the HoverExtension project and refer this into a ASP.NET 3.5 web project. The page should register HoverExtension type and can use wherever require.</p>

<p> </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="err">&lt;</span>%@ Register Assembly=&quot;HoverExtension&quot; Namespace=&quot;Udooz&quot; TagPrefix=&quot;udooz&quot; %&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Before consuming the control, the actual styles should be required.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="err"> </span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nt">style</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="nc">.Hover</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="err">   </span> <span class="k">background-color</span><span class="o">:</span><span class="n">Red</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="k">border-color</span><span class="o">:</span><span class="n">Yellow</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.Normal</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="err">   </span> <span class="k">background-color</span><span class="o">:</span><span class="n">Aqua</span><span class="p">;</span>
</span><span class='line'><span class="err">   </span> <span class="k">border-color</span><span class="o">:</span><span class="n">Blue</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p> ASP.NET AJAX ScriptManager is required for runtime behaviors.</p>

<p> </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'><span class="nt">&lt;pre&gt;</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;asp:ScriptManager</span> <span class="na">ID=</span><span class="s">&quot;ScriptManager1&quot;</span> <span class="na">runat=</span><span class="s">&quot;server&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p> The actual button control definition and extender control usage would be</p>

<p> </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'><span class="nt">&lt;pre&gt;</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;asp:Button</span> <span class="na">ID=</span><span class="s">&quot;button&quot;</span> <span class="na">Text=</span><span class="s">&quot;Extended Button&quot;</span> <span class="na">runat=</span><span class="s">&quot;server&quot;</span> <span class="nt">/&gt;</span>       
</span><span class='line'><span class="nt">&lt;udooz:HoverExtension</span> <span class="na">ID=</span><span class="s">&quot;extender1&quot;</span> <span class="na">HoverCssClass=</span><span class="s">&quot;Hover&quot;</span> <span class="na">NormalCssClass=</span><span class="s">&quot;Normal&quot;</span> <span class="na">TargetControlID=</span><span class="s">&quot;button&quot;</span> <span class="na">runat=</span><span class="s">&quot;server&quot;</span> <span class="nt">/&gt;</span> 
</span></code></pre></td></tr></table></div></figure>


<p>When executing this page, ASP.NET AJAX creates the following for extension.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">span</span> <span class="nx">lang</span><span class="o">=</span><span class="s2">&quot;EN&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//&lt;![CDATA[</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Sys</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Sys</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">add_init</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="nx">$create</span><span class="p">(</span><span class="nx">Udooz</span><span class="p">.</span><span class="nx">HoverExtension</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;hoverCssClass&quot;</span><span class="o">:</span><span class="s2">&quot;HighLight&quot;</span><span class="p">,</span><span class="s2">&quot;normalCssClass&quot;</span><span class="o">:</span><span class="s2">&quot;LowLight&quot;</span><span class="p">},</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">$get</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//]]&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">udooz</span></span>

      








  


<time datetime="2009-04-24T00:00:00+05:30" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/blog/categories/asp-dot-net/'>asp.net</a>, <a class='category' href='/blog/blog/categories/javascript/'>javascript</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/2009/04/aspnet-extender-control-walk-through/" data-via="udooz" data-counturl="http://udooz.github.io//blog/2009/04/aspnet-extender-control-walk-through/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/04/aspnet-extender-control-decorating-web-controls/" title="Previous Post: ASP.NET Extender Control: Decorating &#038; Componentizing Web Controls With Client Behavior">&laquo; ASP.NET Extender Control: Decorating &#038; Componentizing Web Controls With Client Behavior</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/05/microsoft-axum/" title="Next Post: Microsoft Axum: .NET Language for Parallel Computing">Microsoft Axum: .NET Language for Parallel Computing &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
<section>
    <span>
        <img src="http://www.gravatar.com/avatar/d44d334346f00e4c04b5dc856ec3c7e2" alt="Gravatar of M Sheik Uduman Ali " title="Gravatar of M Sheik Uduman Ali" />
    </span>
</section>

<section>
  <h1>About Me</h1>
  <div id="twitter-profile" style="margin-top:0.5em;">
    <p>
      <strong>M Sheik Uduman Ali</strong> 
      (<a href="http://twitter.com/udooz">@udooz</a>)
    </p>
    <p></p>
  </div>
  <script type="text/javascript">
    $(function(){
        var container = $('#twitter-profile'),
            user = "udooz";
        
        function parseTwLinks(s) {
          var twUrl = "http://www.twitter.com/"
          s = s.replace(/ (@([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+p2+"'>"+p1+"</a>"
          }).replace(/ (#([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+"#!/search?q=%23"+p2+"'>"+p1+"</a>"
          })
          return s
        }

        $.ajax({
            url: "http://api.twitter.com/1/users/show.json?include_entities=false&screen_name="+user+"&callback=?"
          , type: 'GET'
          , dataType: 'jsonp'
          , error: function (err) { $('#twitter-profile').addClass('error');  }
          , success: function(data) {
              container.html('<img class="left" src="http://api.twitter.com/1/users/profile_image/'+user+'.json?size=bigger" alt="@'+user+'"><p><strong>'+data.name+'</strong> (<a href="http://twitter.com/'+user+'">@'+user+'</a>)<br/>'+data.location+'</p><p>'+parseTwLinks(data.description)+'</p>');
            }
        })
      });
  </script>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/dont-use-elephant-for-your-garden-work/">Don&#8217;t use elephant for your garden work</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/unpacking-apache-storm-in-developer-box/">Unpacking Apache Storm in developer box</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/book-review-heroku-up-and-running-by-neil-richard-oreilly/">Book Review &#8211; Heroku up and running by Neil &#038; Richard &#8211; O&#8217;Reilly</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/book-review-see-what-i-mean-oreilly/">Book Review &#8211; See What I Mean &#8211; O&#8217;Reilly</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/adopting-event-sourcing-in-saas-using-windows-azure/">Adopting Event Sourcing in SaaS using Windows Azure</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - M Sheik Uduman Ali -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'udooz';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
