
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Udooz!</title>
  <meta name="author" content="M Sheik Uduman Ali">

  
  <meta name="description" content="Tweet Book Review: Python for Data Analysis by Wes &#8211; O&#8217;Reilly Python getting become the heart of data analysis works.  You can see &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://udooz.github.io//blog/posts/2/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Udooz!" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body >
  <header role="banner" id="sidebar">
    <!-- Logo -->
<aside id="logo" class="clearfix">
  <div class="clearfix">
    <a href="/blog/">Udooz!</a>
  </div>
</aside>

<ul id="menu">

  <li class="title">
    <h1 id="title"><a href="/blog/">Udooz!</a></h1>
  </li>


  <li class="subtitle">
    <h2 id="subtitle">technologies.each { |tech| write_post(tech.facets) if tech.facets</h2>
  </li>

  <li class="link">
    <a href="/about/">about</a>
  </li>


  <li class="link rss">
    <a href="/atom.xml">rss feed</a>
  </li>
</ul>


<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:udooz.github.io//blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>


<!-- Octopress Love -->
<aside id="octopress_linkback">
  <a href="http://octopress.org/">
    <span class="unicode_square">
      <span class="unicode_circle">
        &nbsp;
      </span>
    </span>
    <span class="octopress">Powered by Octopress</span>
  </a>
</aside>

  </header>
  <section id="main">
      
  
  
    <article class="post">
      <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/posts/2/index.html" data-via="" data-counturl="http://udooz.github.io//blog/posts/2/index.html" data-size="large">Tweet</a>
  
  
  
</div>

      
  <header>
    
      <h2 class="entry-title">
        
        <a href="/blog/2012/12/book-review-python-for-data-analysis-wes-oreilly/">Book Review: Python for Data Analysis by Wes &#8211; O&#8217;Reilly</a>
        
      </h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-27T00:00:00+05:30" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <p><a href="http://udooz.github.io//blog/images/2012/12/rc_cat.gif" rel="prettyPhoto[551]"><img class="alignnone size-full wp-image-552" title="rc_cat" src="http://udooz.github.io//blog/images/2012/12/rc_cat.gif" alt="" width="180" height="236" /></a></p>

<p>Python getting become the heart of data analysis works.  You can see variety of books taught machine learning, data analysis and big data processing based on Python.  To get into that world, this book is the basic to learn Python ecosystem for data analysis.</p>

<p>Pandas is one of the notable data analysis library along with the famous NumPy and SciPy libraries.  Wes McKinney who has implemented Pandas has written this book.</p>

<p>As a primer for data analysis, this book has been well written.  With the enough sample data for learning purpose, Wes explains NumPy, Pandas and matplotlib libraries in addition to the knowledge required on file handling, data loading, storage, wrangling and aggregation.</p>

<p>Wes spent a worthy spaces for IPython &#8211; an elegant command line IDE for Python data analysis.</p>

<p>As a basic learning book, notable effort taken for the sample data like MovieLens, US Baby Names, USD food database.  These helps the reader to understand those libraries practically.</p>

<p>Sometime you may get a feel of 470 pages is a very detail oriented for just learning Python libraries.  It is up to your comfort level to make short cut.</p>

<p><strong>Python for Data Analysis would be your first and good stepping stone</strong> for to work on &#8220;Data Analysis or Machine Learning&#8221; field.  This book is worth buy.</p>

<p>For book details: <a href="http://shop.oreilly.com/product/0636920023784.do" target="_blank"><a href="http://shop.oreilly.com/product/0636920023784.do">http://shop.oreilly.com/product/0636920023784.do</a></a></p>

  
  


    </article>
  
  
    <article class="post">
      <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/posts/2/index.html" data-via="" data-counturl="http://udooz.github.io//blog/posts/2/index.html" data-size="large">Tweet</a>
  
  
  
</div>

      
  <header>
    
      <h2 class="entry-title">
        
        <a href="/blog/2012/11/authorization-request-signing-for-windows-azure-storage-rest-api-from-powershell/">Authorization request signing for Windows Azure Storage REST API from PowerShell</a>
        
      </h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-17T00:00:00+05:30" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <p>Recently, while working on one of the Windows Azure migration engagement, we were need to have a simple and portable utility scripts that manipulate on various Windows Azure Storage (WAS) services APIs like &#8220;Get all blob metadata details from selected containers&#8221;.  This is further enabled to perform various manipulations for the business.</p>

<p>There are various options like LINQPad queries, WAPPSCmdlets or Azure Storage Explorer + Fiddler.  However, in-terms of considering the computation post to the WAS invocation, repetitiveness of the work and considering the various type of users environment, simple PowerShell script is the option.  So, I have decided to write simple PowerShell script using WAS REST API.  This does not require any other snap-in or WAS storage client assemblies. (Re-inventing the wheel?!)</p>

<p>One of the main hurdle is creating Authorization header (signing the request).  It should contains the following:</p>

<ul>
<li>HTTP verb</li>
<li>all standard HTTP headers, or empty line instead (canonicalized headers)</li>
<li>the URI for the storage service (canonicalized resource)</li>
</ul>


<p>A sample string for the signing mentioned below:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;div id="LC1">GET\n /*HTTP Verb*/&lt;/div>
</span><span class='line'>&lt;div id="LC2">\n /*Content-Encoding*/&lt;/div>
</span><span class='line'>&lt;div id="LC3">\n /*Content-Language*/&lt;/div>
</span><span class='line'>&lt;div id="LC4">\n /*Content-Length*/&lt;/div>
</span><span class='line'>&lt;div id="LC5">\n /*Content-MD5*/&lt;/div>
</span><span class='line'>&lt;div id="LC6">\n /*Content-Type*/&lt;/div>
</span><span class='line'>&lt;div id="LC7">\n /*Date*/&lt;/div>
</span><span class='line'>&lt;div id="LC8">\n /*If-Modified-Since */&lt;/div>
</span><span class='line'>&lt;div id="LC9">\n /*If-Match*/&lt;/div>
</span><span class='line'>&lt;div id="LC10">\n /*If-None-Match*/&lt;/div>
</span><span class='line'>&lt;div id="LC11">\n /*If-Unmodified-Since*/&lt;/div>
</span><span class='line'>&lt;div id="LC12">\n /*Range*/&lt;/div>
</span><span class='line'>&lt;div id="LC13">x-ms-date:Sun, 11 Oct 2009 21:49:13 GMT\nx-ms-version:2009-09-19\n /*CanonicalizedHeaders*/&lt;/div>
</span><span class='line'>&lt;div id="LC14">/udooz/photos/festival\ncomp:metadata\nrestype:container\ntimeout:20 /*CanonicalizedResource*/&lt;/div></span></code></pre></td></tr></table></div></figure>


<p>Read <a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx" target="_blank"><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx">http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx</a></a> and particularly the section <a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx#Constructing_Element" target="_blank"><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx#Constructing_Element">http://msdn.microsoft.com/en-us/library/windowsazure/dd179428.aspx#Constructing_Element</a></a> for request signing of &#8220;Authorization&#8221; header.</p>

<p>I have written a simple and dirty PowerShell function for blob metadata access.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="k">function</span> <span class="n">Generate-AuthString</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">param</span><span class="p">(</span>
</span><span class='line'><span class="no">[string]</span><span class="nv">$url</span>
</span><span class='line'><span class="p">,</span><span class="no">[string]</span><span class="nv">$accountName</span>
</span><span class='line'><span class="p">,</span><span class="no">[string]</span><span class="nv">$accountKey</span>
</span><span class='line'><span class="p">,</span><span class="no">[string]</span><span class="nv">$requestUtcTime</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$uri</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Uri</span> <span class="n">-ArgumentList</span> <span class="nv">$url</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$authString</span> <span class="p">=</span><span class="err">  </span> <span class="s2">&quot;GET</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;x-ms-date:&quot;</span> <span class="p">+</span> <span class="nv">$requestUtcTime</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;x-ms-version:2011-08-18&quot;</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;/&quot;</span> <span class="p">+</span> <span class="nv">$accountName</span> <span class="p">+</span> <span class="nv">$uri</span><span class="p">.</span><span class="n">AbsolutePath</span> <span class="p">+</span> <span class="s2">&quot;</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;comp:list</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;include:snapshots,uncommittedblobs,metadata</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;restype:container</span><span class="p">$(</span><span class="no">[char]</span><span class="n">10</span><span class="p">)</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nv">$authString</span> <span class="p">+=</span> <span class="s2">&quot;timeout:90&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$dataToMac</span> <span class="p">=</span> <span class="no">[System.Text.Encoding]</span><span class="p">::</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="nv">$authString</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$accountKeyBytes</span> <span class="p">=</span> <span class="no">[System.Convert]</span><span class="p">::</span><span class="n">FromBase64String</span><span class="p">(</span><span class="nv">$accountKey</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$hmac</span> <span class="p">=</span> <span class="nb">new-object</span> <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="n">HMACSHA256</span><span class="p">((,</span><span class="nv">$accountKeyBytes</span><span class="p">))</span>
</span><span class='line'><span class="no">[System.Convert]</span><span class="p">::</span><span class="n">ToBase64String</span><span class="p">(</span><span class="nv">$hmac</span><span class="p">.</span><span class="n">ComputeHash</span><span class="p">(</span><span class="nv">$dataToMac</span><span class="p">))</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>&nbsp;</p>

<blockquote><p>Use [char] 10 for new-line, instead of &#8220;`r`n&#8221;.</p></blockquote>

<p>Now, you need to add &#8220;Authorization&#8221; header while making the request.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="no">[System.Net.HttpWebRequest]</span> <span class="nv">$request</span> <span class="p">=</span> <span class="no">[System.Net.WebRequest]</span><span class="p">::</span><span class="n">Create</span><span class="p">(</span><span class="nv">$url</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="p">...</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s2">&quot;Authorization&quot;</span><span class="p">,</span> <span class="s2">&quot;SharedKey &quot;</span> <span class="p">+</span> <span class="nv">$accountName</span> <span class="p">+</span> <span class="s2">&quot;:&quot;</span> <span class="p">+</span> <span class="nv">$authHeader</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The complete script is available at my GitHub repo <a href="https://github.com/udooz/powerplay/blob/master/README.md" target="_blank"><a href="https://github.com/udooz/powerplay/blob/master/README.md">https://github.com/udooz/powerplay/blob/master/README.md</a></a>.</p>

<p>The real power when accessing REST API from PowerShell is the &#8220;XML processing&#8221;.  I can simply access ListBlob() atom fields like</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="nv">$xml</span><span class="p">.</span><span class="n">EnumerationResults</span><span class="p">.</span><span class="n">Blobs</span><span class="p">.</span><span class="n">Blob</span>
</span></code></pre></td></tr></table></div></figure>


<p>Happy Coding.<br/>
<a style="display: none;" href="http://www.codeproject.com" rel="tag">CodeProject</a></p>

  
  


    </article>
  
  
    <article class="post">
      <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/posts/2/index.html" data-via="" data-counturl="http://udooz.github.io//blog/posts/2/index.html" data-size="large">Tweet</a>
  
  
  
</div>

      
  <header>
    
      <h2 class="entry-title">
        
        <a href="/blog/2012/11/book-review-cloud-architecture-patterns/">Book Review: Cloud Architecture Patterns by Bill Wilder &#8211; O&#8217;Reilly</a>
        
      </h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-14T00:00:00+05:30" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <p><a href="http://udooz.github.io//blog/images/2012/11/cat.gif" rel="prettyPhoto[526]"><img class="alignnone size-full wp-image-527" title="cat" src="http://udooz.github.io//blog/images/2012/11/cat.gif" alt="" width="180" height="236" /></a></p>

<p>Bill Wilder who is a MVP in Windows Azure has taken nice initiative in the cloud computing space with cloud architecture patterns.  Good collections.</p>

<p>Cloud computing relatively new and evolving technology, where we are facing so many recurred problems when dealing with application migration.  Bill introduces the basic tenants of cloud computing and design principles as Cloud Computing architecture patterns in this book.  There are 14 basic and common cloud computing patterns in this book.</p>

<p>The whole chapter 1 discusses on Scalability in depth.  I really liked his explanation on Performance vs Scalability.  Also, he listed out the characteristics of Cloud-Native applications.</p>

<p>Though it is not well fit into &#8216;pattern&#8217;, Horizontally Scaling Compute pattern discusses all design and anti-design aspects.  The Queue-centric workflow discusses the loosely coupled aspects.  It covers the asynchronous programming characteristics of cloud-native applications.  However, asynchronous and end user responsiveness related problems not covered in this, or as a different pattern.</p>

<p>He well touched the CAP theorem, sharding, fan-out quite well.  The multitenancy pattern can be explained much more better way.</p>

<p>The colocate and valet key patterns are nicely covered efficient use of network and trust with third party service integration.</p>

<p>The patterns try at best to vendor-neutral.  Fortunately, it lights up more on Windows Azure.</p>

<p>This book is very useful for people who are new to cloud computing space and going to construct/migrate application on this.</p>

<p>For well experts and people who have already spend their life on cloud computing, would be a refresher.</p>

<p>Well attempt for basic cloud computing architecture concepts.</p>

<p>You can buy this book at <a href="http://shop.oreilly.com/product/0636920023777.do" target="_blank"><a href="http://shop.oreilly.com/product/0636920023777.do">http://shop.oreilly.com/product/0636920023777.do</a></a></p>

  
  


    </article>
  
  
    <article class="post">
      <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/posts/2/index.html" data-via="" data-counturl="http://udooz.github.io//blog/posts/2/index.html" data-size="large">Tweet</a>
  
  
  
</div>

      
  <header>
    
      <h2 class="entry-title">
        
        <a href="/blog/2012/11/azure-startcopyfromblob-transaction-compensation/">WAS StartCopyFromBlob operation and Transaction Compensation</a>
        
      </h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-12T00:00:00+05:30" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <p>The latest Windows Azure SDKs v1.7.1 and 1.8  have a nice feature called &#8220;<a href="http://msdn.microsoft.com/en-us/library/jj682832.aspx" target="_blank">StartCopyFromBlob</a>&#8221; that enables us to instruct Windows Azure data center to perform cross-storage accounts blob copy.  Prior to this, we need to download chunks of blob content then upload into the destination storage account.  Hence, &#8220;StartCopyFromBlob&#8221; is more efficient in terms of cost and time as well.</p>

<p>The notable difference in version 2012-02-12 is that copy operation is now asynchronous.  It means once you made a copy request to Windows Azure Storage service, it returns a copy ID (a GUID string), copy state and HTTP status code 202 (Accepted).  This means that your request is scheduled.  Post to this call, when you check the copy state immediately, it is most probably in &#8220;pending&#8221; state.</p>

<h2>StartCopyFromBlob &#8211; An TxnCompensation operation</h2>

<p>An extra care is required while using this API, since this is one of the real world transaction compensation service operation.  After making the copy request, you need to verify the actual status of the copy operation at later point in time.  The later point in time would be varied from very few seconds to 2 weeks based on various constraints like source blob size, permission, connectivity, etc.</p>

<p>The figure below shows a typical sequence of StartCopyFromBlob operation invocation.</p>

<p><a href="http://udooz.github.io//blog/images/2012/11/StartCopyBlobSequence.jpg" rel="prettyPhoto[518]"><img class="alignnone  wp-image-521" title="StartCopyBlobSequence" src="http://udooz.github.io//blog/images/2012/11/StartCopyBlobSequence.jpg" alt="" width="600" height="400" /></a></p>

<p>(Click on the above image to see full view)</p>

<p><a href="http://msdn.microsoft.com/en-us/library/jj733014.aspx" target="_blank">CloudBlockBlob</a> and <a href="http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.cloudpageblob.aspx" target="_blank">CloudPageBlob</a> classes in Windows Azure storage SDK v1.8 provide StartCopyFromBlob() method which in turn calls the WAS REST service operation (<a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd894037.aspx" target="_blank"><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd894037.aspx">http://msdn.microsoft.com/en-us/library/windowsazure/dd894037.aspx</a></a>).  Based on the Windows Azure Storage Team blog post (<a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx" target="_blank"><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx">http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx</a></a>), this request is placed on internal queue and it returns copy ID and copy state.  The copy ID is an unique ID for the copy operation.  This can be used later to verify the destination blob copy ID and also the way to abort copy operation later point in time.  <a href="http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.copystate.aspx" target="_blank">CopyState</a> gives you copy operation status, number of bytes copying, etc.</p>

<blockquote><p>Note that sequence 3 &#8220;PushCopyBlobMessage&#8221; in the above figure is my assumption about the operation.</p></blockquote>

<h2>ListBlobs &#8211; Way for Compensation</h2>

<p>Although, copy ID is in your hand,  there is no simple API that receives array of copy IDs and to return the appropriate copy states.  Instead, you have to call <a href="http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.cloudblobcontainer_methods.aspx" target="_blank">CloudBlobContainer</a>&#8216;s ListBlobs() or GetXXXBlobReference() to get the copy state.  If the blob is created by the copy operation, then it will have the CopyState.</p>

<blockquote><p>CopyState might be null for blobs that are not created by copy operation</p></blockquote>

<p>The compensation action here is to take what we need to do when a blob copy operation is neither succeeded nor in pending state.  Mostly, the next call of StartCopyFromBlob()  will end up with successful blob copy.  Otherwise, further remedy should be taken.</p>

<h2>Final Words</h2>

<p>It is very pleasure to use StartCopyFromBlob().  It would be much more pleasure, if the SDK or REST version provides simple operations like the following:</p>

<ul>
<li>GetCopyState(string[] copyIDs) : CopyState[]</li>
<li>RetryCopyFromBlob(string failedCopyId) : void</li>
</ul>


  
  


    </article>
  
  
    <article class="post">
      <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://udooz.github.io//blog/posts/2/index.html" data-via="" data-counturl="http://udooz.github.io//blog/posts/2/index.html" data-size="large">Tweet</a>
  
  
  
</div>

      
  <header>
    
      <h2 class="entry-title">
        
        <a href="/blog/2012/10/book-review-windows-powershell/">Book Review: Windows PowerShell for Developers by Douglas Finke, O&#8217;Reilly</a>
        
      </h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-15T00:00:00+05:30" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <p><a href="http://udooz.github.io//blog/images/2012/10/cat.gif" rel="prettyPhoto[512]"><img class="alignnone size-full wp-image-513" title="cat" src="http://udooz.github.io//blog/images/2012/10/cat.gif" alt="" width="180" height="236" /></a></p>

<p>Douglas Finke is an MVP for Windows PowerShell.  This one point is enough to say the quality of this book.</p>

<p>When I was started learning and writing Powershell scripts, I really got crazy about that.  It has elegant syntax which will impress both developers and administrators.  Powershell is not just for Administrator.  This book is for developer.  The first 10 chapters cover the following different aspects:</p>

<ul>
<li>Quick introduction</li>
<li>text template transformation</li>
<li>Powershell in UI</li>
<li>Domain specific language using PS</li>
<li>Net.Webclient and Powershell</li>
</ul>


<p>The Chapter 11 covers Powershell 3.0.</p>

<p>The content is concise and clear.  Every chapters taking you in different level.</p>

<p>For beginners, &#8220;Getting Started&#8221; and &#8220;The Dime Tour&#8221; covers PowerShell basics.  This will give you different introduction to the developers, but not at the basic level.</p>

<p>Otherwise, every chapters will impress you like writing &#8220;Ruby&#8221; script in Linux world. <img src="http://udooz.net/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>If you are a .NET developers, then this would also be in your book shelve in near feature.</p>

<p>Purchase this book at <a href="http://shop.oreilly.com/product/0636920024491.do" target="_blank"><a href="http://shop.oreilly.com/product/0636920024491.do">http://shop.oreilly.com/product/0636920024491.do</a></a></p>

  
  


    </article>
  

    <nav role="navigation" id="pagination">
  <span class="next">
    <a href="3" rel="next">Continue &rarr;</a>
  </span>


  <span class="prev">
    <a href="1" rel="prev">Newer &larr;</a>
  </span>

</nav>
  </section>
  

  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
