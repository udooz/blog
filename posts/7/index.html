
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Udooz!</title>
    <meta name="author" content="M Sheik Uduman Ali">
    
	<meta name="description" content="Published on: Tags: ruby To get to know much about developing Facebook applications using a server side, I have chosen with Koala for Rails.  For . &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Udooz!" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/blog/favicon.ico" rel="shortcut icon">
    <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/blog/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        M Sheik Uduman Ali
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  
  
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/blog/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/blog/archives/index.html">Archives</a></li>
    <li><a href="/blog/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/blog/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/facebook-app-using-rails-koala/">
		
			Facebook App by Rails using Koala</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2011-02-07T00:00:00+05:30" pubdate data-updated="true"></time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/blog/categories/ruby/'>ruby</a>


</div>
    </div>
		<p>To get to know much about developing Facebook applications using a server side, I have chosen with Koala for Rails.  For .NET, Facebook C# SDK is being well supported by Microsoft also (<a href="http://facebooksdk.codeplex.com/" target="_blank"><a href="http://facebooksdk.codeplex.com/">http://facebooksdk.codeplex.com/</a></a>).  In this post, I explain how to use Koala in your Rails applications.  As any Facebook app, the prerequisite  are:</p>

<ul>
<li>Facebook account (of course you should be the one in the 10% of world population <img src="http://udooz.net/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> )</li>
<li>A Facebook application (which could be in sandbox mode), so you should have App ID, App Secret and Callback URL</li>
<li>A Rails application in your local machine and the Facebook app pointed to this as <a href="http://localhost:3000">http://localhost:3000</a> (default port for Mongrel or WEBrick)</li>
</ul>


<h2>Installing Koala</h2>

<p>Install Koala gem from <a href="https://github.com/arsduo/koala" target="_blank"><a href="https://github.com/arsduo/koala">https://github.com/arsduo/koala</a></a> by using <strong>sudo gem install koala &#8211;pre</strong></p>

<h2>Configuring Koala</h2>

<p>Create facebook.yml in /config with the following content</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">#</span> <span class="nx">config</span><span class="o">/</span><span class="nx">facebook</span><span class="p">.</span><span class="nx">yml</span>
</span><span class='line'><span class="nx">development</span><span class="o">:</span>
</span><span class='line'> <span class="nx">app_id</span><span class="o">:</span> <span class="mi">184</span><span class="nx">xxxxxxxxxxxx</span>
</span><span class='line'> <span class="nx">secret_key</span><span class="o">:</span> <span class="mi">80</span><span class="nx">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>
</span><span class='line'> <span class="nx">callback_url</span><span class="o">:</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//localhost:3000/</span>
</span><span class='line'><span class="nx">test</span><span class="o">:</span>
</span><span class='line'> <span class="p">...</span>
</span><span class='line'><span class="nx">production</span><span class="o">:</span>
</span><span class='line'> <span class="p">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Add the following in config/environment.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># config/environment.rb</span>
</span><span class='line'><span class="c1"># in Rails::Initializer.run do |config|</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">action_controller</span><span class="o">.</span><span class="n">allow_forgery_protection</span> <span class="o">=</span> <span class="kp">false</span>
</span><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">gem</span> <span class="s2">&quot;koala&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The first line enables Facebook callback to your server.  The following line adds koala gem into this application.</p>

<p>Create koala.rb in /config/initializers with the following content</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># config/initializers/koala.rb</span>
</span><span class='line'>
</span><span class='line'><span class="k">module</span> <span class="nn">Facebook</span>
</span><span class='line'> <span class="no">CONFIG</span> <span class="o">=</span> <span class="no">YAML</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span> <span class="o">+</span> <span class="s2">&quot;/config/facebook.yml&quot;</span><span class="p">)</span><span class="o">[</span><span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">]</span>
</span><span class='line'> <span class="no">APP_ID</span> <span class="o">=</span> <span class="no">CONFIG</span><span class="o">[</span><span class="s1">&#39;app_id&#39;</span><span class="o">]</span>
</span><span class='line'> <span class="no">SECRET</span> <span class="o">=</span> <span class="no">CONFIG</span><span class="o">[</span><span class="s1">&#39;secret_key&#39;</span><span class="o">]</span>
</span><span class='line'> <span class="no">CALLBACK_URL</span> <span class="o">=</span> <span class="no">CONFIG</span><span class="o">[</span><span class="s1">&#39;callback_url&#39;</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">Koala</span><span class="o">::</span><span class="no">Facebook</span><span class="o">::</span><span class="no">OAuth</span><span class="o">.</span><span class="n">class_eval</span> <span class="k">do</span>
</span><span class='line'> <span class="k">def</span> <span class="nf">initialize_with_default_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'> <span class="k">case</span> <span class="n">args</span><span class="o">.</span><span class="n">size</span>
</span><span class='line'> <span class="k">when</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span><span class='line'> <span class="k">raise</span> <span class="s2">&quot;application id and/or secret are not specified in the config&quot;</span> <span class="k">unless</span> <span class="no">Facebook</span><span class="o">::</span><span class="no">APP_ID</span> <span class="o">&amp;&amp;</span> <span class="no">Facebook</span><span class="o">::</span><span class="no">SECRET</span>
</span><span class='line'> <span class="n">initialize_without_default_settings</span><span class="p">(</span><span class="no">Facebook</span><span class="o">::</span><span class="no">APP_ID</span><span class="o">.</span><span class="n">to_s</span><span class="p">,</span> <span class="no">Facebook</span><span class="o">::</span><span class="no">SECRET</span><span class="o">.</span><span class="n">to_s</span><span class="p">,</span> <span class="no">Facebook</span><span class="o">::</span><span class="no">CALLBACK_URL</span><span class="o">.</span><span class="n">to_s</span><span class="p">)</span>
</span><span class='line'> <span class="k">when</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
</span><span class='line'> <span class="n">initialize_without_default_settings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'> <span class="k">end</span>
</span><span class='line'> <span class="k">end</span>
</span><span class='line'>
</span><span class='line'> <span class="n">alias_method_chain</span> <span class="ss">:initialize</span><span class="p">,</span> <span class="ss">:default_settings</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above code loads the Facebook.yml settings into Facebook, so you can access AppID, AppSecret and CallbackURL anywhere in your application in an unified way.  The following OAuth extension method is taken from Koala guidance to simplify the instantiation of OAuth.new.</p>

<h2>Controller Part</h2>

<p>In ApplicationController, add the following</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#app/controller/application.rb</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># protect_from_forgery</span>
</span><span class='line'>
</span><span class='line'><span class="n">before_filter</span> <span class="ss">:parse_facebook_cookies</span>
</span><span class='line'><span class="k">def</span> <span class="nf">parse_facebook_cookies</span>
</span><span class='line'> <span class="vi">@facebook_cookies</span> <span class="o">=</span> <span class="no">Koala</span><span class="o">::</span><span class="no">Facebook</span><span class="o">::</span><span class="no">OAuth</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">get_user_info_from_cookie</span><span class="p">(</span><span class="n">cookies</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that protect_from_forgery has been commented.  The following instructions, let this application load OAuth details from cookies for getting Facebook access token.</p>

<h2>Your Login Page</h2>

<p>Add the following on your login page layout, in this case /app/views/layout/login.html.erb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span>
</span><span class='line'> <span class="na">xml:fb=</span><span class="s">&quot;http://www.facebook.com/2008/fbml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'> <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;title&gt;</span>Udooz Sample<span class="nt">&lt;/title&gt;</span>
</span><span class='line'> <span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;http://connect.facebook.net/en_US/all.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p</span> <span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span><span class="err">&lt;</span>%= flash[:notice] %&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;fb-root&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> FB.init({
</span><span class='line'> appId  : &#39;<span class="err">&lt;</span>%= Facebook::APP_ID %&gt;&#39;,
</span><span class='line'> status : true, // check login status
</span><span class='line'> cookie : true, // enable cookies to allow the server to access the session
</span><span class='line'> xfbml  : true  // parse XFBML
</span><span class='line'> });
</span><span class='line'>
</span><span class='line'> FB.login(function(response) {
</span><span class='line'> if (response.session) {
</span><span class='line'> location.href = &#39;/home&#39;
</span><span class='line'> } else {
</span><span class='line'> // user cancelled login
</span><span class='line'> }
</span><span class='line'>});
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;h1&gt;</span>udooz<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this example, I&#8217;ve used Facebook JavaScript SDK for login screen.  To use this, I&#8217;ve include FBML scheme in <html> as xml:fb=&#8221;<a href="http://www.facebook.com/2008/fbml&amp;#8221;">http://www.facebook.com/2008/fbml&amp;#8221;</a> followed by referring Facebook SDK script file.</p>

<h2>You Home Page</h2>

<p>In your home page, add the following things.</p>

<p>In app/controllers/HomeController.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">HomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>    <span class="n">graph</span> <span class="o">=</span> <span class="no">Koala</span><span class="o">::</span><span class="no">Facebook</span><span class="o">::</span><span class="no">GraphAPI</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="vi">@facebook_cookies</span><span class="o">[</span><span class="s2">&quot;access_token&quot;</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@likes</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_connections</span><span class="p">(</span><span class="s2">&quot;me&quot;</span><span class="p">,</span> <span class="s2">&quot;likes&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above code, new Graph instance has been created.  By using this, I&#8217;ve invoked the currently logged in user&#8217;s likes.</p>

<p>In app/views/home.html.erb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="err">&lt;</span>% if @likes %&gt;
</span><span class='line'> <span class="err">&lt;</span>% for like in @likes %&gt;
</span><span class='line'> <span class="nt">&lt;tr&gt;</span>
</span><span class='line'> <span class="nt">&lt;td&gt;&lt;b&gt;</span><span class="err">&lt;</span>%=h like[&quot;name&quot;]%&gt; <span class="nt">&lt;/b&gt;&lt;/td&gt;</span>
</span><span class='line'> <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'> <span class="nt">&lt;tr&gt;</span>
</span><span class='line'> <span class="nt">&lt;td&gt;</span><span class="err">&lt;</span>%=h like[&quot;category&quot;] %&gt;<span class="nt">&lt;/td&gt;</span>
</span><span class='line'> <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'> <span class="nt">&lt;tr&gt;</span>
</span><span class='line'> <span class="nt">&lt;td&gt;</span><span class="ni">&amp;ndash;</span><span class="nt">&lt;/td&gt;</span>
</span><span class='line'> <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'> <span class="err">&lt;</span>% end %&gt;
</span><span class='line'> <span class="err">&lt;</span>% end %&gt;
</span><span class='line'><span class="nt">&lt;/table&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now, run your application.  Hope it would be easy.<br/>
<a href="http://www.codeproject.com/script/Articles/BlogFeedList.aspx?amid=3057856" style="display:none" rel="tag">CodeProject</a></p>

		
		
	</div>

<div class="meta">
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/12/wcf-sts-federation-claims-2/">
		
			WCF Claims, STS and Federation – Layman’s View &#8211; 2</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2010-12-22T00:00:00+05:30" pubdate data-updated="true"></time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/blog/categories/wcf/'>wcf</a>


</div>
    </div>
		<p>In the <a href="http://udooz.net/blog/2010/12/wcf-sts-federation-claims/" target="_blank">previous post</a>, we have seen the service configuration of WCF federation.  In this post, let us see the STS configuration.<a href="http://udooz.github.io//blog/images/2010/12/STS_4_1.png" rel="prettyPhoto[268]"><img class="alignnone size-full wp-image-270" title="STS_4_1" src="http://udooz.github.io//blog/images/2010/12/STS_4_1.png" alt="" width="601" height="305" /></a> </p>

<p>In the STS&#8217;s configuration file, it is mentioned in <message> element. </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;system.serviceModel&gt;</span>
</span><span class='line'>  <span class="nt">&lt;services&gt;</span>
</span><span class='line'>   <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">&quot;Udooz.SecurityTokenService&quot;</span> <span class="na">behaviorConfiguration=</span><span class="s">&quot;stsBehavior&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;endpoint</span> <span class="na">contract=</span><span class="s">&quot;Udooz.ISecurityTokenService&quot;</span> <span class="na">binding=</span><span class="s">&quot;wsHttpBinding&quot;</span> <span class="na">bindingConfiguration=</span><span class="s">&quot;stsBinding&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/service&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/services&gt;</span> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;bindings&gt;</span>
</span><span class='line'>   <span class="nt">&lt;wsHttpBinding&gt;</span>
</span><span class='line'>    <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;stsBinding&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>     <span class="nt">&lt;security</span> <span class="na">mode=</span><span class="s">&quot;Message&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;message</span> <span class="na">clientCredentialType=</span><span class="s">&quot;UserName&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>     <span class="nt">&lt;/security&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/binding&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/wsHttpBinding&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/bindings&gt;</span> 
</span></code></pre></td></tr></table></div></figure>


<p>The STS service contract is declared in Udooz.ISecurityTokenService and implementation is resided in Udooz.SecurityTokenService. </p>

<p><a href="http://udooz.github.io//blog/images/2010/12/STS_4_2.png" rel="prettyPhoto[268]"><img class="alignnone size-full wp-image-271" title="STS_4_2" src="http://udooz.github.io//blog/images/2010/12/STS_4_2.png" alt="" width="601" height="305" /></a> </p>

<p><a href="http://udooz.github.io//blog/images/2010/12/STS_4_3.png" rel="prettyPhoto[268]"><img class="alignnone size-full wp-image-272" title="STS_4_3" src="http://udooz.github.io//blog/images/2010/12/STS_4_3.png" alt="" width="600" height="316" /></a> </p>

<p>The message security mode is specified in <binding>..<wsHttpBinding>..<binding name=&#8221;stsBinding&#8221;>&#8230;<security>.  </p>

<p>This is specified in the <serviceBehaviors> section named &#8220;stsBehavior&#8221;. </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;behaviors&gt;</span>
</span><span class='line'>   <span class="nt">&lt;serviceBehaviors&gt;</span>
</span><span class='line'>    <span class="nt">&lt;behavior</span> <span class="na">name=</span><span class="s">&quot;stsBehavior&quot;</span><span class="nt">&gt;</span>           
</span><span class='line'>     <span class="nt">&lt;serviceCredentials&gt;</span>
</span><span class='line'>                 <span class="nt">&lt;userNameAuthentication</span>
</span><span class='line'>              <span class="na">userNamePasswordValidationMode=</span><span class="s">&quot;Custom&quot;</span>
</span><span class='line'>              <span class="na">customUserNamePasswordValidatorType=</span><span class="s">&quot;UdoozCommonLib.STSUsernamePasswordValidator, UdoozCommonLib&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>            <span class="nt">&lt;serviceCertificate</span> <span class="na">findValue=</span><span class="s">&quot;WCFServerKey&quot;</span> <span class="na">x509FindType=</span><span class="s">&quot;FindBySubjectName&quot;</span> <span class="na">storeLocation=</span><span class="s">&quot;LocalMachine&quot;</span> <span class="na">storeName=</span><span class="s">&quot;My&quot;</span> <span class="nt">/&gt;</span>           
</span><span class='line'>     <span class="nt">&lt;/serviceCredentials&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/behavior&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/serviceBehaviors&gt;</span>
</span><span class='line'>  <span class="err">&lt;</span>/behaviors 
</span></code></pre></td></tr></table></div></figure>


<p>The username-password authentication is done by UdoozCommonLib.STSUsernamePasswordValidator class in UdoozCommonLib assembly. </p>

<p><em>To be continued&#8230;</em><br/>
<a style="display: none;" rel="tag" href="http://udooz.net/blog/2010/12/wcf-sts-federation-claims-2">CodeProject</a></p>

		
		
	</div>

<div class="meta">
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/12/wcf-sts-federation-claims/">
		
			WCF Claims, STS and Federation &#8211; Layman&#8217;s View</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2010-12-15T00:00:00+05:30" pubdate data-updated="true"></time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/blog/categories/wcf/'>wcf</a>


</div>
    </div>
		<h2>Configuring your Federation<a href="http://udooz.github.io//blog/images/2010/12/STS_2_2.png" rel="prettyPhoto[250]"></a></h2>

<p>I&#8217;m here to explain WCF claims in federated services using STS (security token service) from a layman&#8217;s perspective.  I&#8217;ve started with the set of configuration you have to put in place on web.config under system.serviceModel to make your service in federated way.  Instead of very boring textual explanation, I&#8217;m explaining in comic way. </p>

<p> <a href="http://udooz.github.io//blog/images/2010/12/STS_1-1.png" rel="prettyPhoto[250]"><img class="size-full wp-image-251 alignnone" title="STS_1-1" src="http://udooz.github.io//blog/images/2010/12/STS_1-1.png" alt="" width="302" height="309" /></a><a href="http://udooz.github.io//blog/images/2010/12/STS_1-2.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-252" title="STS_1-2" src="http://udooz.github.io//blog/images/2010/12/STS_1-2.png" alt="" width="301" height="307" /></a> </p>

<p> <a href="http://udooz.github.io//blog/images/2010/12/STS_1-3.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-253" title="STS_1-3" src="http://udooz.github.io//blog/images/2010/12/STS_1-3.png" alt="" width="303" height="310" /></a><a href="http://udooz.github.io//blog/images/2010/12/STS_2_1.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-254" title="STS_2_1" src="http://udooz.github.io//blog/images/2010/12/STS_2_1.png" alt="" width="300" height="305" /></a> </p>

<p>This is to be declared inside <binding> &ndash;> <security> element of system.serviceModel section of web.config. </p>

<p><a href="http://udooz.github.io//blog/images/2010/12/STS_2_2.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-255" title="STS_2_2" src="http://udooz.github.io//blog/images/2010/12/STS_2_2.png" alt="" width="301" height="306" /></a><a href="http://udooz.github.io//blog/images/2010/12/STS_2_3.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-256" title="STS_2_3" src="http://udooz.github.io//blog/images/2010/12/STS_2_3.png" alt="" width="301" height="306" /></a> </p>

<p><a href="http://udooz.github.io//blog/images/2010/12/STS_3_1.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-257" title="STS_3_1" src="http://udooz.github.io//blog/images/2010/12/STS_3_1.png" alt="" width="301" height="307" /></a> </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;wsFederationHttpBinding&gt;</span>
</span><span class='line'> <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;wsFed&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;security</span> <span class="na">mode=</span><span class="s">&quot;Message&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   <span class="nt">&lt;message</span> <span class="na">issuedTokenType=</span><span class="s">&quot;&lt;strong&gt;http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&lt;/strong&gt;&quot;</span> <span class="na">negotiateServiceCredential=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>    
</span><span class='line'>    <span class="nt">&lt;issuer</span> <span class="na">address=</span><span class="s">&quot;&lt;strong&gt;http://udoozSTS/TokenService.svc&lt;/strong&gt;&quot;</span> <span class="na">binding =</span><span class="s">&quot;wsHttpBinding&quot;</span>  <span class="na">bindingConfiguration=</span><span class="s">&quot;udoozSTSBinding&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>     
</span><span class='line'>    <span class="nt">&lt;/issuer&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/message&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/security&gt;</span>
</span><span class='line'> <span class="nt">&lt;/binding&gt;</span>
</span><span class='line'><span class="nt">&lt;/wsFederationHttpBinding&gt;</span>
</span><span class='line'> 
</span></code></pre></td></tr></table></div></figure>


<p>The <issuer> is the place you have to tell where STS is hosted over which binding with appropriate binding configuration.  This service expects SAML 1.1 provided by udoozSTS.  Since, this is expected as part of request message, it has been declared in Message security mode. </p>

<p><a href="http://udooz.github.io//blog/images/2010/12/STS_3_2.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-258" title="STS_3_2" src="http://udooz.github.io//blog/images/2010/12/STS_3_2.png" alt="" width="302" height="307" /></a> </p>

<p>This is has to be declared in <identity> section of <issuer>. </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;identity&gt;</span>
</span><span class='line'>         <span class="nt">&lt;certificateReference</span>
</span><span class='line'>              <span class="na">findValue=</span><span class="s">&quot;WCFServerKey&quot;</span>
</span><span class='line'>              <span class="na">x509FindType=</span><span class="s">&quot;FindBySubjectName&quot;</span>
</span><span class='line'>              <span class="na">storeLocation=</span><span class="s">&quot;LocalMachine&quot;</span>
</span><span class='line'>              <span class="na">storeName=</span><span class="s">&quot;TrustedPeople&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/identity&gt;</span>
</span><span class='line'> 
</span></code></pre></td></tr></table></div></figure>


<p> <a href="http://udooz.github.io//blog/images/2010/12/STS_3_3.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-259" title="STS_3_3" src="http://udooz.github.io//blog/images/2010/12/STS_3_3.png" alt="" width="302" height="307" /></a> </p>

<p>This has to be declared in <claimTypeRequirements> element under <message>. </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;claimTypeRequirements&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">claimType=</span><span class="s">&quot;http://schemas.udooz.net/2010/12/identity/claims/facebookId&quot;</span> <span class="na">isOptional=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">claimType=</span><span class="s">&quot;http://schemas.udooz.net/2010/12/identity/claims/orgName&quot;</span> <span class="na">isOptional=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/claimTypeRequirements&gt;</span> 
</span></code></pre></td></tr></table></div></figure>


<p> The whole configuration  related to this as </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;/pre&gt;</span>
</span><span class='line'> <span class="nt">&lt;bindings&gt;</span>
</span><span class='line'> <span class="nt">&lt;wsFederationHttpBinding&gt;</span>
</span><span class='line'>  <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;mrservice&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   <span class="nt">&lt;security</span> <span class="na">mode=</span><span class="s">&quot;Message&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;message</span> <span class="na">issuedTokenType=</span><span class="s">&quot;http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&quot;</span> <span class="na">negotiateServiceCredential=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>     <span class="nt">&lt;claimTypeRequirements&gt;</span>
</span><span class='line'>      <span class="nt">&lt;add</span> <span class="na">claimType=</span><span class="s">&quot;http://schemas.udooz.net/2010/12/identity/claims/facebookId&quot;</span> <span class="na">isOptional=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;add</span> <span class="na">claimType=</span><span class="s">&quot;http://schemas.udooz.net/2010/12/identity/claims/orgName&quot;</span> <span class="na">isOptional=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>     <span class="nt">&lt;/claimTypeRequirements&gt;</span>
</span><span class='line'>     <span class="nt">&lt;issuer</span> <span class="na">address=</span><span class="s">&quot;http://udoozSTS/TokenService.svc&quot;</span> <span class="na">binding =</span><span class="s">&quot;wsHttpBinding&quot;</span>  <span class="na">bindingConfiguration=</span><span class="s">&quot;udoozSTSBinding&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;identity&gt;</span>
</span><span class='line'>       <span class="nt">&lt;certificateReference</span>
</span><span class='line'>         <span class="na">findValue=</span><span class="s">&quot;WCFServerKey&quot;</span>
</span><span class='line'>         <span class="na">x509FindType=</span><span class="s">&quot;FindBySubjectName&quot;</span>
</span><span class='line'>         <span class="na">storeLocation=</span><span class="s">&quot;LocalMachine&quot;</span>
</span><span class='line'>         <span class="na">storeName=</span><span class="s">&quot;TrustedPeople&quot;</span> <span class="nt">/&gt;</span>                 
</span><span class='line'>      <span class="nt">&lt;/identity&gt;</span>
</span><span class='line'>     <span class="nt">&lt;/issuer&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/message&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/security&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/binding&gt;</span>
</span><span class='line'> <span class="nt">&lt;/wsFederationHttpBinding&gt;</span>
</span><span class='line'><span class="nt">&lt;bindings&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The proofs are called as claims.  A collection of claims about a consumer provided by a identity provider (STS) with its identity is called as ClaimSet.</p>

<p>The comic was developed using <a href="http://udooz.github.io//blog/images/2010/12/1.png" rel="prettyPhoto[250]"><img class="alignnone size-full wp-image-261" title="1" src="http://udooz.github.io//blog/images/2010/12/1.png" alt="" width="592" height="46" /></a>.</p>

<p><em>To be continued&#8230;</em><br/>
<a style="display: none;" rel="tag" href="http://udooz.net/blog/2010/12/wcf-sts-federation-claims">CodeProject</a></p>

		
		
	</div>

<div class="meta">
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/12/cumbersomeness-web-config/">
		
			Cumbersomeness Web.Config</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2010-12-14T00:00:00+05:30" pubdate data-updated="true"></time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/blog/categories/dot-net/'>.net</a>


</div>
    </div>
		<p>People who are in .NET arena might encounter the plethora of xxx.config files especially web.config.  It is a required devil for placing any configuration settings for your applications.  We should appreciate the effort taken by the engineers at Microsoft for introducing (at that time, Java&#8217;s configuration approach is very immature) and providing a declarative approach, centralized and optimistic way of configuring your .NET application of any size.  This has well fitted for applications written for simple purpose including training codes, in-house tools, etc.  In a real-world, irrespective of small, medium or large scale, both Visual Studio and developers place lots of stuff on this mess sourrounded by &lt;, >, />, &#8221; characters. </p>

<p>When you see the web.config schema, it accomodates the following types of configuration for an application: </p>

<ul>
<li>Configuration section declaration (your custom configuration section)</li>
<li>Startup settings</li>
<li>Runtime settings such as impersonation, app domain manager, GC, CAS publisher policy, etc</li>
<li>Remoting settings</li>
<li>Network settings like authenticatio modules, proxy settings, System.Net, connection related</li>
<li>Tracing and debug</li>
<li>Application settings</li>
<li>Connection strings</li>
<li>ASP.NET settings like anonymous identification, authentication and authorization, caching, compiling, custom errors, health monitoring, HTTP runtime, handlers and modules, membership</li>
<li>WCF settings like service endpoint, service behavior and binding configurations</li>
</ul>


<p>Bit sleepy?  Refer <a href="http://msdn.microsoft.com/en-us/library/ms731734.aspx" target="_blank"><a href="http://msdn.microsoft.com/en-us/library/ms731734.aspx">http://msdn.microsoft.com/en-us/library/ms731734.aspx</a></a> for WCF and <a href="http://msdn.microsoft.com/en-us/library/dayb112d.aspx" target="_blank"><a href="http://msdn.microsoft.com/en-us/library/dayb112d.aspx">http://msdn.microsoft.com/en-us/library/dayb112d.aspx</a></a> for ASP.NET specific settings.  </p>

<p>There are machine wide settings those are overridden by site and application wide settings also.  Does this really prouductive in development stage and helpful in production stage?  Having experience on real world .NET applications, the main concerns with web.config are: </p>

<ul>
<li><strong>Readability &amp; Understandability</strong>.  Though it has the capability of defining the whole earth even the whole universe, readability is very bad.  Mentally, it outshines the content clarity.</li>
</ul>


<p>Let us see a sample web.config for a WCF service.  How easy for you to add some more settings related to WCF tracing? </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;configuration&gt;</span>
</span><span class='line'> <span class="nt">&lt;configSections&gt;</span>
</span><span class='line'> <span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">&quot;WcfSaml&quot;</span> <span class="na">type=</span><span class="s">&quot;Udooz.Security.CustomTokenConfiguration, Udooz.Security&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/configSections&gt;</span>
</span><span class='line'> <span class="nt">&lt;appSettings/&gt;</span>
</span><span class='line'> <span class="nt">&lt;connectionStrings/&gt;</span>
</span><span class='line'> <span class="nt">&lt;system.web&gt;</span>
</span><span class='line'> <span class="nt">&lt;compilation</span> <span class="na">debug=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;assemblies&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.IdentityModel.Selectors, Version=3.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.Security, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;Microsoft.Transactions.Bridge, Version=3.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;SMDiagnostics, Version=3.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.DirectoryServices, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.Web.RegularExpressions, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.Transactions, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.Messaging, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">assembly=</span><span class="s">&quot;System.ServiceProcess, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&quot;</span><span class="nt">/&gt;&lt;/assemblies&gt;&lt;/compilation&gt;</span>
</span><span class='line'> <span class="nt">&lt;authentication</span> <span class="na">mode=</span><span class="s">&quot;Windows&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="c">&lt;!--</span>
</span><span class='line'><span class="c"> &lt;customErrors mode=&quot;RemoteOnly&quot; defaultRedirect=&quot;GenericErrorPage.htm&quot;&gt;</span>
</span><span class='line'><span class="c"> &lt;error statusCode=&quot;403&quot; redirect=&quot;NoAccess.htm&quot; /&gt;</span>
</span><span class='line'><span class="c"> &lt;error statusCode=&quot;404&quot; redirect=&quot;FileNotFound.htm&quot; /&gt;</span>
</span><span class='line'><span class="c"> &lt;/customErrors&gt;</span>
</span><span class='line'><span class="c"> --&gt;</span>
</span><span class='line'> <span class="nt">&lt;/system.web&gt;</span>
</span><span class='line'> <span class="nt">&lt;system.diagnostics&gt;</span>
</span><span class='line'> <span class="nt">&lt;trace</span> <span class="na">autoflush=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;&lt;/trace&gt;</span>
</span><span class='line'> <span class="nt">&lt;sources&gt;</span>
</span><span class='line'>
</span><span class='line'> <span class="nt">&lt;source</span> <span class="na">name=</span><span class="s">&quot;System.ServiceModel.MessageLogging&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'> <span class="nt">&lt;listeners&gt;</span>
</span><span class='line'> <span class="nt">&lt;add</span> <span class="na">name=</span><span class="s">&quot;xml&quot;</span> <span class="na">type=</span><span class="s">&quot;System.Diagnostics.XmlWriterTraceListener&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/listeners&gt;</span>
</span><span class='line'> <span class="nt">&lt;/source&gt;</span>
</span><span class='line'> <span class="nt">&lt;/sources&gt;</span>
</span><span class='line'> <span class="nt">&lt;/system.diagnostics&gt;</span>
</span><span class='line'> <span class="nt">&lt;system.serviceModel&gt;</span>
</span><span class='line'> <span class="nt">&lt;diagnostics&gt;</span>
</span><span class='line'>
</span><span class='line'> <span class="nt">&lt;messageLogging</span>
</span><span class='line'> <span class="na">logMalformedMessages=</span><span class="s">&quot;false&quot;</span>
</span><span class='line'> <span class="na">logMessagesAtServiceLevel=</span><span class="s">&quot;false&quot;</span>
</span><span class='line'> <span class="na">logEntireMessage=</span><span class="s">&quot;false&quot;</span>
</span><span class='line'> <span class="na">logMessagesAtTransportLevel=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/diagnostics&gt;</span>
</span><span class='line'>
</span><span class='line'> <span class="nt">&lt;services&gt;</span>
</span><span class='line'> <span class="nt">&lt;service</span>
</span><span class='line'> <span class="na">behaviorConfiguration=</span><span class="s">&quot;ServiceBehavior&quot;</span>
</span><span class='line'> <span class="na">name=</span><span class="s">&quot;SampleService.HelloWorldService&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;endpoint</span> <span class="na">binding=</span><span class="s">&quot;wsFederationHttpBinding&quot;</span>
</span><span class='line'> <span class="na">address=</span><span class="s">&quot;&quot;</span>
</span><span class='line'> <span class="na">bindingConfiguration=</span><span class="s">&quot;ServiceBinding&quot;</span>
</span><span class='line'> <span class="na">contract=</span><span class="s">&quot;SampleService.IHelloWorld&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;endpoint</span> <span class="na">contract=</span><span class="s">&quot;IMetadataExchange&quot;</span> <span class="na">binding=</span><span class="s">&quot;mexHttpBinding&quot;</span> <span class="na">address=</span><span class="s">&quot;mex&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/service&gt;</span>
</span><span class='line'> <span class="nt">&lt;/services&gt;</span>
</span><span class='line'> <span class="nt">&lt;bindings&gt;</span>
</span><span class='line'> <span class="nt">&lt;customBinding&gt;</span>
</span><span class='line'> <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;MutalCertificateBinding&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;security</span> <span class="na">authenticationMode=</span><span class="s">&quot;MutualCertificate&quot;</span>
</span><span class='line'> <span class="na">requireSecurityContextCancellation =</span><span class="s">&quot;false&quot;</span>
</span><span class='line'> <span class="na">requireSignatureConfirmation=</span><span class="s">&quot;false&quot;</span>
</span><span class='line'> <span class="na">messageProtectionOrder =</span><span class="s">&quot;SignBeforeEncrypt&quot;</span>
</span><span class='line'> <span class="na">requireDerivedKeys=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;/security&gt;</span>
</span><span class='line'> <span class="nt">&lt;httpTransport/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/binding&gt;</span>
</span><span class='line'> <span class="nt">&lt;/customBinding&gt;</span>
</span><span class='line'>
</span><span class='line'> <span class="nt">&lt;wsFederationHttpBinding&gt;</span>
</span><span class='line'> <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;ServiceBinding&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;security</span> <span class="na">mode=</span><span class="s">&quot;Message&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;message</span> <span class="na">issuedTokenType=</span><span class="s">&quot;http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1&quot;</span> <span class="na">negotiateServiceCredential=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="c">&lt;!--&lt;claims&gt;</span>
</span><span class='line'><span class="c"> &lt;add claimType=&quot;http://schemas.udooz.net/2010/12/identity/claims/EmailAddress&quot;/&gt;</span>
</span><span class='line'><span class="c"> &lt;add claimType=&quot;http://schemas.udooz.net/2010/12/identity/claims/GivenName&quot;/&gt;</span>
</span><span class='line'><span class="c"> &lt;add claimType=&quot;http://schemas.udooz.net/2010/12/identity/claims/Surname&quot;/&gt;</span>
</span><span class='line'><span class="c"> &lt;/claims&gt;--&gt;</span>
</span><span class='line'> <span class="nt">&lt;issuer</span> <span class="na">address=</span><span class="s">&quot;http://localhost/SamlSecurityTokenService/SamlTokenIssuer.ashx&quot;</span> <span class="na">bindingConfiguration=</span><span class="s">&quot;UsernameBinding&quot;</span> <span class="na">binding=</span><span class="s">&quot;customBinding&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;identity&gt;</span>
</span><span class='line'> <span class="nt">&lt;dns</span> <span class="na">value=</span><span class="s">&quot;UdoozDotNetServerCert&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/identity&gt;</span>
</span><span class='line'> <span class="nt">&lt;/issuer&gt;</span>
</span><span class='line'> <span class="nt">&lt;/message&gt;</span>
</span><span class='line'> <span class="nt">&lt;/security&gt;</span>
</span><span class='line'> <span class="nt">&lt;/binding&gt;</span>
</span><span class='line'> <span class="nt">&lt;/wsFederationHttpBinding&gt;</span>
</span><span class='line'> <span class="nt">&lt;/bindings&gt;</span>
</span><span class='line'> <span class="nt">&lt;behaviors&gt;</span>
</span><span class='line'> <span class="nt">&lt;serviceBehaviors&gt;</span>
</span><span class='line'> <span class="nt">&lt;behavior</span> <span class="na">name=</span><span class="s">&quot;ServiceBehavior&quot;</span> <span class="na">returnUnknownExceptionsAsFaults=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;serviceCredentials</span> <span class="na">type=</span><span class="s">&quot;Udooz.Security.CustomCredentials, Udooz.Security&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;serviceCertificate</span> <span class="na">findValue=</span><span class="s">&quot;CN=UdoozDotNetServerCert&quot;</span> <span class="na">storeLocation=</span><span class="s">&quot;LocalMachine&quot;</span> <span class="na">storeName=</span><span class="s">&quot;My&quot;</span> <span class="na">x509FindType=</span><span class="s">&quot;FindBySubjectDistinguishedName&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;clientCertificate&gt;</span>
</span><span class='line'> <span class="nt">&lt;authentication</span> <span class="na">revocationMode=</span><span class="s">&quot;NoCheck&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/clientCertificate&gt;</span>
</span><span class='line'> <span class="nt">&lt;/serviceCredentials&gt;</span>
</span><span class='line'> <span class="nt">&lt;serviceMetadata</span> <span class="na">httpGetEnabled=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/behavior&gt;</span>
</span><span class='line'> <span class="nt">&lt;/serviceBehaviors&gt;</span>
</span><span class='line'> <span class="nt">&lt;/behaviors&gt;</span>
</span><span class='line'> <span class="nt">&lt;/system.serviceModel&gt;</span>
</span><span class='line'><span class="nt">&lt;/configuration&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above configuration is for a federated WCF web service.<br/>
When you refer the alternate representations of XML, you can feel the readability issue.  Here is, an example JSON taken from Wikipedia: </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">{</span>
</span><span class='line'> <span class="s2">&quot;firstName&quot;</span><span class="o">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;lastName&quot;</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;age&quot;</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;address&quot;</span><span class="o">:</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'> <span class="s2">&quot;streetAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;21 2nd Street&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;New York&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;postalCode&quot;</span><span class="o">:</span> <span class="s2">&quot;10021&quot;</span>
</span><span class='line'> <span class="p">},</span>
</span><span class='line'> <span class="s2">&quot;phoneNumber&quot;</span><span class="o">:</span>
</span><span class='line'> <span class="p">[</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="s2">&quot;212 555-1234&quot;</span>
</span><span class='line'> <span class="p">},</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;fax&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="s2">&quot;646 555-4567&quot;</span>
</span><span class='line'> <span class="p">}</span>
</span><span class='line'> <span class="p">]</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The same in XML: </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;person&gt;</span>
</span><span class='line'> <span class="nt">&lt;firstName&gt;</span>John<span class="nt">&lt;/firstName&gt;</span>
</span><span class='line'> <span class="nt">&lt;lastName&gt;</span>Smith<span class="nt">&lt;/lastName&gt;</span>
</span><span class='line'> <span class="nt">&lt;age&gt;</span>25<span class="nt">&lt;/age&gt;</span>
</span><span class='line'> <span class="nt">&lt;address&gt;</span>
</span><span class='line'>  <span class="nt">&lt;streetAddress&gt;</span>
</span><span class='line'>   21 2nd Street
</span><span class='line'>  <span class="nt">&lt;/streetAddress&gt;</span>
</span><span class='line'>  <span class="nt">&lt;city&gt;</span>
</span><span class='line'>   New York
</span><span class='line'>  <span class="nt">&lt;/city&gt;</span>
</span><span class='line'>  <span class="nt">&lt;state&gt;</span>
</span><span class='line'>   NY
</span><span class='line'>  <span class="nt">&lt;/state&gt;</span>
</span><span class='line'>  <span class="nt">&lt;postalCode&gt;</span>
</span><span class='line'>   10021
</span><span class='line'>  <span class="nt">&lt;/postalCode&gt;</span>
</span><span class='line'> <span class="nt">&lt;/address&gt;</span>
</span><span class='line'> <span class="nt">&lt;phoneNumbers&gt;</span>
</span><span class='line'>  <span class="nt">&lt;phoneNumber</span> <span class="na">type=</span><span class="s">&quot;home&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   212 555-1234
</span><span class='line'>  <span class="nt">&lt;/phoneNumber&gt;</span>
</span><span class='line'>  <span class="nt">&lt;phoneNumber</span> <span class="na">type=</span><span class="s">&quot;fax&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   646 555-4567
</span><span class='line'>  <span class="nt">&lt;/phoneNumber&gt;</span>
</span><span class='line'> <span class="nt">&lt;/phoneNumbers&gt;</span>
</span><span class='line'><span class="nt">&lt;/person&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The same in YAML which is very famous in Rails arena: </p>

<p>&#8212;<br/>
firstName:     John<br/>
lastName:      Smith<br/>
age:     25<br/>
address:<br/>
    streetAddress:   21 2nd Street<br/>
    city:      New York<br/>
 state:     NY<br/>
 postalCode:      10021</p>

<p>phoneNumbers:<br/>
    &#8211; type:   home<br/>
      number:   212 555-1234<br/>
 <br/>
 - type:   fax<br/>
      number:   646 555-4567</p>

<ul>
<li><strong>Managability</strong> &#8211; the user who might be a developer, solution architect, production administrator have to manage lot of stuff to accomplish an intent.  For example, WCF security related settings are scattered across service binding (security mode settings) and behavior (e.g. service credential settings) sections.  Thought technically this is the correct way, however from an user perspective, this has lesser managability.</li>
<li><strong>Mixture Settings</strong>. since web.config is the only best place for any configuration, the &#8220;separation of concerns&#8221; principle couldn&#8217;t be achieved in various stages of configuration.  For example, some settings are more helpful during development stage, for example, the list of claims types can be understood by a WCF service, assemblies for handling custom authentication, etc.  But these configuration are no way helpful, but making this as configuration is harmful to the application at the production stage.  Just think that changing &#8220;GivenName&#8221; claim to &#8220;GivenName2&#8243; in the above sample web.config might break the system.</li>
</ul>


<h2>What is expected?</h2>

<p>Yes, we should appreciate the level of flexibility and extensibility available in .NET.  However, in the era of agile, productivity and simplicity are matters.  It is time to adopt and follow &#8220;convention over configuration&#8221; approach those are main part in Rails and Android development world.  If required, let the user (again developer or solution architect) override the convention. </p>

<p>Instead of putting everything on the messy XML tags, provide developer/solution architect/administrator friendly DSL, which would be internal DSL on C# or easy to learn external DSL.  For example, in Rails, to map a web request to appropriate REST action is being configured by Ruby syntax.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">ActionController</span><span class="o">::</span><span class="no">Routing</span><span class="o">::</span><span class="no">Routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span> <span class="o">|</span><span class="n">map</span><span class="o">|</span>
</span><span class='line'> <span class="n">map</span><span class="o">.</span><span class="n">connect</span> <span class="err">‘</span><span class="n">products</span><span class="o">/</span><span class="ss">:id</span><span class="err">’</span><span class="p">,</span> <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="err">‘</span><span class="n">catalog</span><span class="err">’</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="err">‘</span><span class="n">view</span><span class="err">&#39;</span>
</span><span class='line'>
</span><span class='line'> <span class="c1">#...other routings</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above code, you see such mapping.  These kind of scripting will be more favourable than the awkwardness XML.<br/>
<a href="http://udooz.net/blog/2010/12/cumbersomeness-web-config/" rel="tag" style="display:none">CodeProject</a></p>

		
		
	</div>

<div class="meta">
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/08/net-dlr-will-die/">
		
			.NET DLR: Will die?</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2010-08-09T00:00:00+05:30" pubdate data-updated="true"></time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/blog/categories/dot-net/'>.net</a>


</div>
    </div>
		<p>Though my main stream is on C#, I personally like Ruby.  I was quite surprised that Microsoft started focusing on non-C family languages, those are actually coming from *nix world.  Couple of years back when Microsoft released the notes about Dynamic Language Runtime which is something like Java implementation languages like JRuby, Scala.  DLR has been scoped to be part of &#8220;lightweight&#8221; language runtime even in Silverlight.  This was surprised me.</p>

<p>I was very happy when DLR would be the carrier for domain specific language (DSL).  But, why did the general purpose languages like Ruby and Python are added as DLR in the .NET sandwich?  Wouldn&#8217;t be like C#, VB.NET or F#?  Not sure, but I was planned to use DLR for one of my custom language implementation using ANTLR.</p>

<p>Today I heared the news that Jimmy, the core developer of IronRuby was resigned from Microsoft.  The one and only one reason is Microsoft does not want to encourage these languages in the .NET world.  Jimmy wrote reasons about this (<a href="http://blog.jimmy.schementi.com/2010/08/start-spreading-news-future-of-jimmy.html" target="_blank"><a href="http://blog.jimmy.schementi.com/2010/08/start-spreading-news-future-of-jimmy.html">http://blog.jimmy.schementi.com/2010/08/start-spreading-news-future-of-jimmy.html</a></a>).</p>

<p>Not sure about Microsoft&#8217;s roadmap.  Would it move IronRuby from DLR stack to CLR stack?  What would be the feature and scope of DLR?  Will it be another LINQ to SQL initiative?</p>

		
		
	</div>

<div class="meta">
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="6" class="prev">Prev</a>
    
    
        <a href="8" class="next">Next</a>
    
    <div class="center"><a href="/blog/blog/archives">Blog Archives</a></div>
</nav>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2014

    M Sheik Uduman Ali
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/blog/javascripts/fabric.js"></script>
<script src="/blog/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
