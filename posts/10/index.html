
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Udooz!</title>
  <meta name="author" content="M Sheik Uduman Ali">

  
  <meta name="description" content="Two security issues really surprised me. One is with Linux and another one is Adobe Flash. Linux Kernals and NULL Pointers To handle unavailable &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://udooz.github.io//blog/posts/10/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Udooz!" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:udooz.github.io//blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/blog/">
        <span class="blue_light">
            Udooz!
        </span>
       
           <span class="blue_dark">
             technologies.each { |tech| write_post(tech.facets) if tech.facets
           </span>
       
    </a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
  <li><a href="/blog/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/security-the-other-way-round/">Security &#8211; The Other Way Round</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-15T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="/blog/2009/08/security-the-other-way-round/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Two security issues really surprised me. One is with Linux and another one is Adobe Flash.</p>

<h3>Linux Kernals and NULL Pointers</h3>

<p>To handle unavailable operations for some protocols, Linux kernal has methods that are not doing any NULL pointer check before deferencing those methods.  An attacker can put his code that will get executed with kernel privileges.  For more details, visit: <a href="http://blog.cr0.org/2009/08/linux-null-pointer-dereference-due-to.html" target="_blank"><a href="http://blog.cr0.org/2009/08/linux-null-pointer-dereference-due-to.html">http://blog.cr0.org/2009/08/linux-null-pointer-dereference-due-to.html</a></a>.</p>

<h3>Flash&#8217;s Vulnerability Pitch</h3>

<p>Flash is one of the premium vechile for web sites with extravaganza contents.  A critical vulnerability allows attackers can compromise the system with Flash 9.x and 10.x for all platforms.  Visit: <a href="http://www.adobe.com/support/security/bulletins/apsb09-10.html" target="_blank"><a href="http://www.adobe.com/support/security/bulletins/apsb09-10.html">http://www.adobe.com/support/security/bulletins/apsb09-10.html</a></a> to download the patch for the pitch.</p>

<p>Finally, one good news about IE 8.</p>

<h3>IE8 &#8211; Highly Secured Browser in the Universe (Google&#8217;s promo style!)</h3>

<p>NSS Lab is one of the leading product security testing and certification independent body has published comparative browser security testing in IE 8, Firefox 3, Safari 4, Chrome 2 and Opera 10.  The report said that IE 8 (83%) followed by FF 3 (80%) are most consistent in the high level of protection from phishing URL block rate.  Chrome and Safari score 26% and 2% respectively.</p>

<p>The  socially engineered malware block rate for IE8 is 81% which surpassed all the other browsers in the earth (again Google&#8217;s promo style!).  FF3 scores 27% and Chrome2 7%.</p>

<p>Read the complete report at <a href="http://www.nsslabs.com/browser-security" target="_blank"><a href="http://www.nsslabs.com/browser-security">http://www.nsslabs.com/browser-security</a></a>.</p>

<blockquote><p>Okey, now let me brief the reason for this post&#8217;s title.  Always, people from OS (open source) said that they are more stronger in skills than the engineers at Microsoft and other CS (closed source) No.1s.  Now, they have to understand that skill is not at all related to open source.  It is a myth. </p></blockquote>

<p>PS: I am not against OS.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/next-gen-google-search/">Next Gen Google Search</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-12T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="/blog/2009/08/next-gen-google-search/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a response to growing Bing and Facebook search engines, Google is developing next generation search engine with new architecture. It keeps the features and internals secret.</p>

<p>The development version is available at <a href="http://www2.sandbox.google.com/" target="_blank"><a href="http://www2.sandbox.google.com/">http://www2.sandbox.google.com/</a></a>. The only difference I found when I googled &#8220;Next generation Google search engine&#8221; is search result. Current engine gives 37,300,000 results, and the new one gives 10,100,000 results (could be more accuracy!).</p>

<p>Differences between these has been explained at <a href="http://www.betanews.com/article/Googles-next-search-engine-Whats-the-difference/1250012846" target="_blank"><a href="http://www.betanews.com/article/Googles-next-search-engine-Whats-the-difference/1250012846">http://www.betanews.com/article/Googles-next-search-engine-Whats-the-difference/1250012846</a></a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/reactive-framework/">Reactive Framework and IObserverable<T></a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-03T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="/blog/2009/08/reactive-framework/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Erik Meijer, the man behind LINQ is now come up with a framework called &#8220;Rx Framework&#8221; which contains API those decorates LINQ2Objects as mathematics dual.  Let us see in details.</p>

<h3>LINQ2O and Mathematics Dual</h3>

<blockquote><p>Wikipedia says &#8220;A moprhism f:A->B is a monomorphism if  f.g=g.h implies g = h. Performing the dual operation, we get the statement that g.f = h.f  implies g = h. for a morphism f: B->A. This is precisely what is means for f to be an epimorphism. In short, the property of being a monomorphism is dual to the property of being an epimorphism.&#8221;</p></blockquote>

<p> LINQ to Objects is set of extension methods which enables to manipulate on a IEnumerable<T>.  From a layman point of view, a collection is nothing but a data source from where we are <em>pulling</em> data using LINQ to Objects and/or ofcourse for&#8230;each.  From duality, this is f:A->B.</p>

<p>It is very common that we need to notify a data source when new items need to be added or existing item to be updated either.  The interaction is happened either sychronously, but in general asychronously.  Since, we are living in non-deterministic, disconnected programming world.</p>

<p>Updating a data source would be based on some user-interaction in an application through event.  Event is programming world idiom for asynchronous invocation, or if you take any non-user interaction application which is again based on &#8220;event&#8221; driven architecture.  This model is based on GoF&#8217;s observer pattern.</p>

<h3>Observer Pattern</h3>

<blockquote><p>GoF says &#8220;Define a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically&#8221;.</p></blockquote>

<p><img class="alignnone size-full wp-image-150" style="border: black 1px solid;" title="Observer Pattern" src="http://udooz.github.io//blog/images/2009/08/rx_obsrv_pattern.png" alt="Observer Pattern" width="280" height="157" /></p>

<p>The observer those want to be notified whenever the subject undergoes a change in state should attach themselves with subject.  If you take button click event, we can write one or more event handlers.  Whenever a button clicked, it sends EventArgs to its subscribed observers (event handlers).</p>

<h3>Introducing IObservable and IObserver</h3>

<p>Let us  come back to the actual problem.  Since, IEnumerable<T> can only be used to pull data from a data source as read-only i.e f:A->B, here A is data source and B is my IEnumerable<T>.  However If I want  f: B->A which means that I would like to send/push data from &#8220;B&#8221; to &#8220;A&#8221;.  Here, I treat the callback or event handlers as &#8220;A&#8221; and the events as &#8220;B&#8221;.  It means that I need to push data to a data source as like as IEnumerable which is for pull.</p>

<p>As part of Reactive Framework, Meijar introduced two interfaces IObservable<T> and IObserver<T>.  Based on observer pattern, IObservable<T> is source.  See the following figure.</p>

<p><img class="alignnone size-full wp-image-151" style="border: black 1px solid;" title="IObserverable and Observer" src="http://udooz.github.io//blog/images/2009/08/rx_iobser_classes.png" alt="IObserverable and Observer" width="356" height="162" /></p>

<p>The  Subscribe() method is used to register one or more IObservers for notification which is similar to Subject.Attach() in the observer pattern.  The IDisposable is .NET idiom which mimics Source.Detach().  To understand the fundamental objective of these objects think in reverse in place with IEnumerable.  To traverse through the IObservable, create an IObserver, give it to an IObservable, and the IObservable “pushes” data into the IObserver by invoking its methods.</p>

<p>OnNext() is used to iterate over data sources and push the argument &#8220;value&#8221;.  OnCompleted() is post-iteration handler.</p>

<h3>An Example</h3>

<p>Theory is enough.  Let us see an example in Silverlight 3.0.  I create a button with mouse move event which acts as IObservable and create a TextBox which acts as IObserver.  Whenver a mouse moved on the button, the textbox observer appends coordinates into TextBox.Text property.</p>

<p>To create a mouse move observable, I used System.Linq.Observable which is used to create IObservables.  I extend the <span style="font-size: x-small;">System.Windows.Controls.Button with GetMouseMoves() which returns IObservable<Event>MouseEventArgs>></span><span style="font-size: x-small;"> like the following:</span></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">ButtonExtension</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="n">IObservable</span><span class="p">&gt;</span>
</span><span class='line'>      <span class="n">GetMouseMoves</span><span class="p">(</span><span class="k">this</span> <span class="n">Button</span> <span class="n">button</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">Observable</span><span class="p">.</span><span class="n">FromEvent</span><span class="p">((</span><span class="n">EventHandler</span> <span class="n">genericHandler</span><span class="p">)</span>
</span><span class='line'>          <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">MouseEventHandler</span><span class="p">(</span><span class="n">genericHandler</span><span class="p">),</span>
</span><span class='line'>            <span class="n">mouseHandler</span> <span class="p">=&gt;</span> <span class="n">button</span><span class="p">.</span><span class="n">MouseMove</span> <span class="p">+=</span> <span class="n">mouseHandler</span><span class="p">,</span>
</span><span class='line'>            <span class="n">mouseHandler</span> <span class="p">=&gt;</span> <span class="n">button</span><span class="p">.</span><span class="n">MouseMove</span> <span class="p">-=</span> <span class="n">mouseHandler</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p> <span style="font-size: x-small;">The FromEvent() overload takes three Action(s) as arguments. One to convert from a generic event handler (EventHandler) to MouseEventHandler.  Remaining two register/unregister.  </span>For observers, I create a custom observer for handling mouse coordinates like</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">CoordinateObserver</span> <span class="p">:</span> <span class="n">IObserver</span><span class="p">&lt;</span><span class="n">Event</span><span class="p">&lt;</span><span class="n">MouseEventArgs</span><span class="p">&gt;&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="n">TextBox</span> <span class="n">CoordinateTextBox</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'>    <span class="cp">#region IObserver&lt;Event&lt;MouseEventArgs&gt;&gt; Members</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">void</span> <span class="n">OnCompleted</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">void</span> <span class="n">OnError</span><span class="p">(</span><span class="n">Exception</span> <span class="n">exception</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">void</span> <span class="n">OnNext</span><span class="p">(</span><span class="n">Event</span><span class="p">&lt;</span><span class="n">MouseEventArgs</span><span class="p">&gt;</span> <span class="k">value</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">CoordinateTextBox</span><span class="p">.</span><span class="n">Text</span> <span class="p">+=</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">Clicked</span> <span class="n">at</span> <span class="p">({</span><span class="m">0</span><span class="p">},{</span><span class="m">1</span><span class="p">})</span><span class="err">\</span><span class="n">n</span><span class="p">&amp;</span><span class="n">quot</span><span class="p">;,</span>
</span><span class='line'>          <span class="k">value</span><span class="p">.</span><span class="n">EventArgs</span><span class="p">.</span><span class="n">GetPosition</span><span class="p">(</span><span class="n">CoordinateTextBox</span><span class="p">).</span><span class="n">X</span><span class="p">,</span>
</span><span class='line'>          <span class="k">value</span><span class="p">.</span><span class="n">EventArgs</span><span class="p">.</span><span class="n">GetPosition</span><span class="p">(</span><span class="n">CoordinateTextBox</span><span class="p">).</span><span class="n">Y</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#endregion</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><span style="font-size: x-small;">I create an instance of CoordinateObserver and subscribes it to button&#8217;s GetMouseMoves()</span></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">rxButton</span><span class="p">.</span><span class="n">GetMouseMoves</span><span class="p">().</span><span class="n">Subscribe</span>
</span><span class='line'>  <span class="p">(</span><span class="k">new</span> <span class="n">CoordinateObserver</span> <span class="p">{</span> <span class="n">CoordinateTextBox</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">rxResult</span> <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>The results would be</p>

<p> <img class="alignnone size-full wp-image-154" style="border: black 1px solid;" title="The output" src="http://udooz.github.io//blog/images/2009/08/rx_result_example.png" alt="The output" width="329" height="292" /></p>

<h3>Download and Resources</h3>

<p>Till now, there is no official release of Reactive Framework.  However, The Silverlight 3.0 Unit Test Framework uses this which comes as part of Silverlight 3.0 Toolkit.  Assembly Name: System.Reactive.dll, which unfortunately builds with Silverlight&#8217;s System.Core, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e.  See the following image:</p>

<p><img class="alignnone size-full wp-image-155" style="border: black 1px solid;" title="Assembly" src="http://udooz.github.io//blog/images/2009/08/rx_assembly.png" alt="Assembly" width="97" height="158" /></p>

<ol>
<li>First download <a href="http://www.codeplex.com/Silverlight" target="_blank">Silverlight 3.0 Toolkit</a> and install it.</li>
<li>Extract source code from $Program Files$\Microsoft SDKs\Silverlight\v3.0\Toolkit\Jul09\Source\Source Code.zip.</li>
<li>Get the System.Reactive.dll from $Source Code Folder$\Binaries.</li>
</ol>


<p>The full source code of the example is available at <a href="http://www.udooz.net/index.php?option=com_docman&task=doc_download&gid=5&Itemid=5" target="_blank"><a href="http://www.udooz.net/index.php?option=com_docman&amp;task=doc_download&amp;gid=5&amp;Itemid=5">http://www.udooz.net/index.php?option=com_docman&amp;task=doc_download&amp;gid=5&amp;Itemid=5</a></a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/visual-webgui-empty-client-aspnet/">Visual WebGUI and Empty Client Model for RIA</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-27T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="/blog/2009/07/visual-webgui-empty-client-aspnet/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So many frameworks, tools and platforms available for us to develop RIA applications.  One such framework from Gizmox is &#8220;Visual Web GUI&#8221; which provides unified approach to develop web applications using ASP.NET platform with &#8220;Empty-Client&#8221; model. </p>

<blockquote><p>The catchy point is you do not need to know too much about underlying technology.  You can also port WinForm applications into web.</p></blockquote>

<p>You could be a win form developer or web developer.</p>

<h3>How does it different from others?</h3>

<p>Since I did not fully evaulate this platform, I can simply say &#8220;this framework clearly segregates the responsibilities between browser and server&#8221;.  Server does business processing and browser handles user interaction.  Looks very adhoc and no different.  Gizmox is termed this as &#8220;empty client&#8221;.</p>

<h3>Empty Client</h3>

<p>We are known and worked with &#8220;Thick&#8221;, &#8220;Thin&#8221; and &#8220;Fat&#8221; clients.  Empty?  Points taken from their web site is</p>

<blockquote><p>The Empty Client approach combines for the first time on web, the best of both desktop and web environments. An optimized protocol makes server side power, typically achieved with &#8220;Thin client&#8221; available for data centric web applications, with &#8220;Thick Client&#8221; scalability and performance.</p></blockquote>

<p>They assured that this framework lets developers create desktop-like Web applications in no time using their existing skill sets with no re-learning, no retooling, and without the traditional complexities of the web. It also eliminates traditional security concerns, by facilitating literally Empty clients &#8211; no open services, no data, no logic, or any other exposed security hazards are left on the client.</p>

<p>The server is all in their approach.  Client only captures data and send it to server, and display data from server.  Even server provides display format of the data.</p>

<blockquote><p>This model is mainly useful in cloud computing.  However, I do not know wy making the powerful client as &#8220;dump&#8221; and overloading the server.</p></blockquote>

<p>Visit <a href="http://www.visualwebgui.com/Developers/Introduction/tabid/556/Default.aspx">http://www.visualwebgui.com/Developers/Introduction/tabid/556/Default.aspx</a> for more details.<br/>
<a style="display:none" rel="tag" href="http://udooz.net/blog/2009/07/visual-webgui-empty-client-aspnet/">codeproject</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/wcf-ilist-serialization-issue/">IList and Round-trip Serialization Issue in WCF</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-26T00:00:00+05:30" pubdate data-updated="true"></time>
        
         | <a href="/blog/2009/07/wcf-ilist-serialization-issue/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Problem</h3>

<p>WCF throws System.ExecutionEngineException when deserializing and consuming data contracts with IList based attributes.</p>

<h3>Forces</h3>

<ul>
<li>Collection is changed as immutable when using IList<T></li>
<li>Unable to convert it to List<T></li>
<li>Unable to send it back to service consumer if required</li>
</ul>


<h3>Solution</h3>

<p>Let us define a data contract Dump which contains IList of InternalDump.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[DataContract]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">InternalDump</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="na">    [DataMember]</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Part</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[DataContract]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Dump</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="na">    [DataMember]</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span><span class="p">;</span>
</span><span class='line'><span class="na">    [DataMember]</span>
</span><span class='line'>    <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">InternalDump</span><span class="p">&gt;</span> <span class="n">Parts</span><span class="p">;</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="n">Dump</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">Parts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">InternalDump</span><span class="p">&gt;();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;ve declared a simple WCF service</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[ServiceContract]</span>
</span><span class='line'><span class="k">public</span> <span class="k">interface</span> <span class="n">IService1</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="na">    [OperationContract]</span>
</span><span class='line'>    <span class="n">Dump</span> <span class="n">GetData</span><span class="p">(</span><span class="n">Dump</span> <span class="n">d</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Service1</span> <span class="p">:</span> <span class="n">IService1</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="n">Dump</span> <span class="n">GetData</span><span class="p">(</span><span class="n">Dump</span> <span class="n">d</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>       
</span><span class='line'>        <span class="k">return</span> <span class="n">d</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p> You are noticed that GetData just returns the deserialized &#8220;d&#8221; as a return value to the consumer.  Being a .NET client, the consumer of this service as</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Dump</span> <span class="n">d</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dump</span><span class="p">();</span>
</span><span class='line'><span class="n">d</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&quot;Roundtrip&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">InternalDump</span> <span class="n">id</span> <span class="p">=</span> <span class="k">new</span> <span class="n">InternalDump</span><span class="p">();</span>
</span><span class='line'><span class="n">id</span><span class="p">.</span><span class="n">Part</span> <span class="p">=</span> <span class="s">&quot;Client&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">d</span><span class="p">.</span><span class="n">Parts</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</span><span class='line'> 
</span><span class='line'>
</span><span class='line'><span class="n">ServiceReference1</span><span class="p">.</span><span class="n">Service1Client</span> <span class="n">sc</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DumpConsole</span><span class="p">.</span><span class="n">ServiceReference1</span><span class="p">.</span><span class="n">Service1Client</span><span class="p">();</span>
</span><span class='line'><span class="n">Dump</span> <span class="n">sd</span> <span class="p">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="n">InternalDump</span> <span class="n">id2</span> <span class="k">in</span> <span class="n">sd</span><span class="p">.</span><span class="n">Parts</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">id2</span><span class="p">.</span><span class="n">Part</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>At the consumer side, a new instance of Dump and InternalDump have been created, serialized and send it as input parameter for GetData.  At the service side, the probelm is when deserializing the IList<InternalDump>, WCF internally convert it into InternalDump[] which makes all the problem 1 and 2 mentioned in Forces section.</p>

<blockquote><p>The problem is not in any of the above code, instead WCF itself.  The world&#8217;s so extensible ESB (enterprise service bus) framework assumed and convert IList<T> into T[] for platform neutral.</p></blockquote>

<p>Unfortunately, do not know the root cause of problem 3 mentioned in &#8220;Forces&#8221; section.  The solution is not the technical one, but a guideline.</p>

<p><strong>Don&#8217;t use IList<T> for the above mentioned probelms.  Instead use List<T>.</strong></p>

<p>Hope WCF in .NET 4.0 will resolve this issue.</p>

<p><a style="display:none" rel="tag" href="http://udooz.net/blog/2009/07/wcf-ilist-serialization-issue/">codeproject </a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="11">&larr; Older</a>
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="9">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/dont-use-elephant-for-your-garden-work/">Don&#8217;t use elephant for your garden work</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/unpacking-apache-storm-in-developer-box/">Unpacking Apache Storm in developer box</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/book-review-heroku-up-and-running-by-neil-richard-oreilly/">Book Review &#8211; Heroku up and running by Neil &#038; Richard &#8211; O&#8217;Reilly</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/book-review-see-what-i-mean-oreilly/">Book Review &#8211; See What I Mean &#8211; O&#8217;Reilly</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/adopting-event-sourcing-in-saas-using-windows-azure/">Adopting Event Sourcing in SaaS using Windows Azure</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - M Sheik Uduman Ali -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'udooz';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
